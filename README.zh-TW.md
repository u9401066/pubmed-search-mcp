# PubMed Search MCP

[![PyPI version](https://badge.fury.io/py/pubmed-search-mcp.svg)](https://badge.fury.io/py/pubmed-search-mcp)
[![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![License: Apache 2.0](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
[![MCP](https://img.shields.io/badge/MCP-Compatible-green.svg)](https://modelcontextprotocol.io/)
[![Test Coverage](https://img.shields.io/badge/coverage-90%25-brightgreen.svg)](https://github.com/u9401066/pubmed-search-mcp)

> **AI Agent çš„å°ˆæ¥­æ–‡ç»ç ”ç©¶åŠ©ç†** - ä¸åªæ˜¯ API åŒ…è£å™¨

åŸºæ–¼ Domain-Driven Design (DDD) æ¶æ§‹çš„ MCP ä¼ºæœå™¨ï¼Œä½œç‚º AI Agent çš„æ™ºæ…§ç ”ç©¶åŠ©ç†ï¼Œæä¾›ä»»å‹™å°å‘çš„æ–‡ç»æœå°‹èˆ‡åˆ†æèƒ½åŠ›ã€‚

**âœ¨ åŒ…å«å…§å®¹ï¼š**
- ğŸ”§ **40 å€‹ MCP å·¥å…·** - ç²¾ç°¡çš„ PubMedã€Europe PMCã€COREã€NCBI è³‡æ–™åº«å­˜å–ï¼ŒåŠ**ç ”ç©¶æ™‚é–“è»¸**åŠŸèƒ½
- ğŸ“š **22 å€‹ Claude Skills** - AI Agent å¯ç›´æ¥ä½¿ç”¨çš„å·¥ä½œæµç¨‹æŒ‡å—ï¼ˆClaude Code å°ˆå±¬ï¼‰
- ğŸ“– **Copilot æ•´åˆæŒ‡å—** - VS Code GitHub Copilot ä½¿ç”¨èªªæ˜

**ğŸŒ èªè¨€**: [English](README.md) | **ç¹é«”ä¸­æ–‡**

---

## ğŸš€ å¿«é€Ÿå®‰è£

### é€é uv

```bash
uv add pubmed-search-mcp
```

### é€é uvxï¼ˆå…å®‰è£ï¼‰

```bash
uvx pubmed-search-mcp
```

---

## âš™ï¸ è¨­å®šæ–¹å¼

æœ¬ MCP ä¼ºæœå™¨å¯èˆ‡**ä»»ä½• MCP ç›¸å®¹çš„ AI å·¥å…·**é…åˆä½¿ç”¨ã€‚é¸æ“‡æ‚¨åå¥½çš„å®¢æˆ¶ç«¯ï¼š

### VS Code / Cursor (`.vscode/mcp.json`)

```json
{
  "servers": {
    "pubmed-search": {
      "type": "stdio",
      "command": "uvx",
      "args": ["pubmed-search-mcp"],
      "env": {
        "NCBI_EMAIL": "your@email.com"
      }
    }
  }
}
```

### Cline (`cline_mcp_settings.json`)

```json
{
  "mcpServers": {
    "pubmed-search": {
      "command": "uvx",
      "args": ["pubmed-search-mcp"],
      "env": {
        "NCBI_EMAIL": "your@email.com"
      },
      "alwaysAllow": [],
      "disabled": false
    }
  }
}
```

> **æç¤º**ï¼šåœ¨ Cline ä¸­ï¼Œé»æ“Šã€ŒMCP Serversã€â†’ã€ŒConfigureã€â†’ã€ŒConfigure MCP Serversã€ä¾†ç·¨è¼¯æ­¤æª”æ¡ˆã€‚

### Antigravity / å…¶ä»– MCP å®¢æˆ¶ç«¯

ä»»ä½• MCP ç›¸å®¹å®¢æˆ¶ç«¯éƒ½å¯ä»¥é€é stdio transport ä½¿ç”¨æ­¤ä¼ºæœå™¨ï¼š

```bash
# æŒ‡ä»¤
uvx pubmed-search-mcp
```

> **æ³¨æ„**: `NCBI_EMAIL` æ˜¯ NCBI API æ”¿ç­–è¦æ±‚çš„å¿…å¡«é …ã€‚å¯é¸æ“‡æ€§è¨­å®š `NCBI_API_KEY` ä»¥ç²å¾—æ›´é«˜çš„ API é™é¡ã€‚

---

## ğŸ¯ è¨­è¨ˆç†å¿µ

> **æ ¸å¿ƒå®šä½**ï¼šAI Agent èˆ‡å­¸è¡“æœå°‹å¼•æ“ä¹‹é–“çš„**æ™ºæ…§ä¸­ä»‹å±¤**ã€‚

### ç‚ºä»€éº¼é¸æ“‡é€™å€‹ä¼ºæœå™¨ï¼Ÿ

å…¶ä»–å·¥å…·çµ¦ä½ åŸå§‹ API å­˜å–ã€‚æˆ‘å€‘çµ¦ä½ **è©å½™ç¿»è­¯ + æ™ºæ…§è·¯ç”±**ï¼š

| æŒ‘æˆ° | æˆ‘å€‘çš„è§£æ±ºæ–¹æ¡ˆ |
|------|---------------|
| Agent ç”¨ ICD ç¢¼ï¼ŒPubMed è¦ MeSH | âœ… **è‡ªå‹• ICDâ†’MeSH è½‰æ›** |
| å¤šè³‡æ–™åº«ï¼Œä¸åŒ API | âœ… **Unified Search** å–®ä¸€å…¥å£ |
| è‡¨åºŠå•é¡Œéœ€çµæ§‹åŒ–æœå°‹ | âœ… **PICO è§£æå™¨** + Boolean çµ„åˆ |
| é†«å­¸è¡“èªæ‰“éŒ¯å­— | âœ… **ESpell è‡ªå‹•æ ¡æ­£** |
| å–®ä¸€ä¾†æºçµæœå¤ªå¤š | âœ… **å¹³è¡Œå¤šæºæœå°‹** + å»é‡ |

### æ ¸å¿ƒå·®ç•°åŒ–

1. **è©å½™ç¿»è­¯å±¤** - Agent è‡ªç„¶èªè¨€è¡¨é”ï¼Œæˆ‘å€‘ç¿»è­¯æˆå„è³‡æ–™åº«è¡“èª (MeSH, ICD-10, text-mined entities)
2. **çµ±ä¸€æœå°‹é–˜é“** - ä¸€å€‹ `unified_search()` å‘¼å«ï¼Œè‡ªå‹•åˆ†æµåˆ° PubMed/Europe PMC/CORE/OpenAlex
3. **PICO æ„ŸçŸ¥** - è§£æè‡¨åºŠå•é¡Œç‚ºçµæ§‹åŒ– (P)æ—ç¾¤/(I)ä»‹å…¥/(C)å°ç…§/(O)çµæœ
4. **Agent-First è¨­è¨ˆ** - è¼¸å‡ºå„ªåŒ–æ©Ÿå™¨æ±ºç­–ï¼Œéäººé¡é–±è®€

---

## ğŸ“¡ å¤–éƒ¨ API èˆ‡è³‡æ–™ä¾†æº

æœ¬ MCP ä¼ºæœå™¨æ•´åˆå¤šå€‹å­¸è¡“è³‡æ–™åº«å’Œ APIï¼š

### æ ¸å¿ƒè³‡æ–™ä¾†æº

| ä¾†æº | æ”¶éŒ„é‡ | è©å½™ç³»çµ± | è‡ªå‹•è½‰æ› | èªªæ˜ |
|------|--------|----------|----------|------|
| **NCBI PubMed** | 36M+ æ–‡ç«  | MeSH | âœ… åŸç”Ÿæ”¯æ´ | ä¸»è¦ç”Ÿé†«æ–‡ç» |
| **NCBI Entrez** | å¤šè³‡æ–™åº« | MeSH | âœ… åŸç”Ÿæ”¯æ´ | Gene, PubChem, ClinVar |
| **Europe PMC** | 33M+ | Text-mined | âœ… æ“·å– | å…¨æ–‡ XML å­˜å– |
| **CORE** | 200M+ | ç„¡ | â¡ï¸ è‡ªç”±æ–‡å­— | é–‹æ”¾å–ç”¨èšåˆå™¨ |
| **Semantic Scholar** | 200M+ | S2 Fields | â¡ï¸ è‡ªç”±æ–‡å­— | AI é©…å‹•æ¨è–¦ |
| **OpenAlex** | 250M+ | Concepts | â¡ï¸ è‡ªç”±æ–‡å­— | é–‹æ”¾å­¸è¡“å…ƒè³‡æ–™ |
| **NIH iCite** | PubMed | N/A | N/A | å¼•ç”¨æŒ‡æ¨™ (RCR) |

> **ğŸ”‘ èªªæ˜**: âœ… = å®Œæ•´è©å½™æ”¯æ´ | â¡ï¸ = æŸ¥è©¢ç›´æ¥å‚³éï¼ˆç„¡æ§åˆ¶è©å½™ï¼‰
>
> **ICD ç¢¼**ï¼šè‡ªå‹•åµæ¸¬ä¸¦åœ¨ PubMed æœå°‹å‰è½‰æ›ç‚º MeSH

### ç’°å¢ƒè®Šæ•¸

```bash
# å¿…å¡«
NCBI_EMAIL=your@email.com          # NCBI æ”¿ç­–è¦æ±‚

# é¸å¡« - æé«˜ API é™é¡
NCBI_API_KEY=your_ncbi_api_key     # å–å¾—ï¼šhttps://www.ncbi.nlm.nih.gov/account/settings/
CORE_API_KEY=your_core_api_key     # å–å¾—ï¼šhttps://core.ac.uk/services/api
S2_API_KEY=your_s2_api_key         # å–å¾—ï¼šhttps://www.semanticscholar.org/product/api

# é¸å¡« - ç¶²è·¯è¨­å®š
HTTP_PROXY=http://proxy:8080       # HTTP ä»£ç†
HTTPS_PROXY=https://proxy:8080     # HTTPS ä»£ç†
```

---

## ğŸ”„ é‹ä½œåŸç†ï¼šä¸­ä»‹å±¤æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              AI AGENT                                        â”‚
â”‚                                                                              â”‚
â”‚   ã€Œæ‰¾ I10 é«˜è¡€å£“åœ¨ç³–å°¿ç—…æ‚£è€…çš„æ²»ç™‚è«–æ–‡ã€                                         â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ğŸ”„ PUBMED SEARCH MCP (ä¸­ä»‹å±¤)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  1ï¸âƒ£ è©å½™ç¿»è­¯                                                            â”‚â”‚
â”‚  â”‚     â€¢ ICD-10 "I10" â†’ MeSH "Hypertension"                                â”‚â”‚
â”‚  â”‚     â€¢ "ç³–å°¿ç—…" â†’ MeSH "Diabetes Mellitus"                               â”‚â”‚
â”‚  â”‚     â€¢ ESpell: "hypertention" â†’ "hypertension"                           â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  2ï¸âƒ£ æ™ºæ…§è·¯ç”±                                                            â”‚â”‚
â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚â”‚
â”‚  â”‚     â”‚ PubMed   â”‚  â”‚Europe PMCâ”‚  â”‚   CORE   â”‚  â”‚ OpenAlex â”‚             â”‚â”‚
â”‚  â”‚     â”‚  36M+    â”‚  â”‚   33M+   â”‚  â”‚  200M+   â”‚  â”‚  250M+   â”‚             â”‚â”‚
â”‚  â”‚     â”‚  (MeSH)  â”‚  â”‚(å…¨æ–‡)    â”‚  â”‚  (OA)    â”‚  â”‚(å…ƒè³‡æ–™)  â”‚             â”‚â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜             â”‚â”‚
â”‚  â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚â”‚
â”‚  â”‚                              â–¼                                          â”‚â”‚
â”‚  â”‚  3ï¸âƒ£ çµæœèšåˆï¼šå»é‡ + æ’åº + è£œå……                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         çµ±ä¸€çµæœ                                              â”‚
â”‚   â€¢ 150 ç¯‡å”¯ä¸€è«–æ–‡ï¼ˆå¾ 4 å€‹ä¾†æºå»é‡ï¼‰                                          â”‚
â”‚   â€¢ æŒ‰ç›¸é—œæ€§ + å¼•ç”¨å½±éŸ¿åŠ› (RCR) æ’åº                                          â”‚
â”‚   â€¢ å…¨æ–‡é€£çµå¾ Europe PMC è£œå……                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ MCP å·¥å…·æ¦‚è¦½

### ğŸ” æœå°‹å·¥å…·

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æœå°‹å…¥å£                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   unified_search()          â† ğŸŒŸ æ¨è–¦ï¼šè‡ªå‹•è·¯ç”±                    â”‚
â”‚        â”‚                                                         â”‚
â”‚        â”œâ”€â”€ å¿«é€Ÿæœå°‹     â†’ ç›´æ¥å¤šæºæŸ¥è©¢                             â”‚
â”‚        â”œâ”€â”€ PICO æ¨¡å¼    â†’ è‡¨åºŠå•é¡Œåˆ†è§£                             â”‚
â”‚        â””â”€â”€ ç³»çµ±æ¨¡å¼     â†’ MeSH æ“´å±• + å¹³è¡Œæœå°‹                      â”‚
â”‚                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   å°ˆé–€æœå°‹ï¼ˆç•¶éœ€è¦ç‰¹å®šä¾†æºæ™‚ï¼‰                                      â”‚
â”‚                                                                  â”‚
â”‚   search_literature()       â†’ åƒ… PubMedï¼ˆMeSH æ”¯æ´ï¼‰              â”‚
â”‚   search_europe_pmc()       â†’ Europe PMCï¼ˆå…¨æ–‡/OA ç¯©é¸ï¼‰          â”‚
â”‚   search_core()             â†’ CORE 200M+ é–‹æ”¾å–ç”¨                 â”‚
â”‚   search_gene()             â†’ NCBI Gene è³‡æ–™åº«                    â”‚
â”‚   search_compound()         â†’ PubChem åŒ–åˆç‰©                      â”‚
â”‚   search_clinvar()          â†’ ClinVar è®Šç•°                        â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”¬ æ¢ç´¢å·¥å…·ï¼ˆæ‰¾åˆ°é—œéµè«–æ–‡å¾Œï¼‰

```
                        æ‰¾åˆ°é‡è¦è«–æ–‡ (PMID)
                                   â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                       â”‚                       â”‚
           â–¼                       â–¼                       â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  å¾€å‰è¿½æº¯   â”‚        â”‚   ç›¸ä¼¼ä¸»é¡Œ   â”‚        â”‚  å¾€å¾Œè¿½è¹¤   â”‚
    â”‚  â—€â”€â”€â”€â”€â”€â”€    â”‚        â”‚  â‰ˆâ‰ˆâ‰ˆâ‰ˆâ‰ˆâ‰ˆ     â”‚        â”‚  â”€â”€â”€â”€â”€â”€â–¶    â”‚
    â”‚             â”‚        â”‚             â”‚        â”‚             â”‚
    â”‚ get_article â”‚        â”‚find_related â”‚        â”‚find_citing  â”‚
    â”‚ _references â”‚        â”‚ _articles   â”‚        â”‚ _articles   â”‚
    â”‚             â”‚        â”‚             â”‚        â”‚             â”‚
    â”‚  åŸºç¤è«–æ–‡   â”‚        â”‚  ç›¸ä¼¼ä¸»é¡Œ   â”‚        â”‚  å¾ŒçºŒç ”ç©¶   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    build_citation_tree() â†’ å®Œæ•´ç¶²çµ¡è¦–è¦ºåŒ–ï¼ˆ6 ç¨®æ ¼å¼ï¼‰
```

### ğŸ“š å…¨æ–‡èˆ‡åŒ¯å‡º

| é¡åˆ¥ | å·¥å…· |
|------|------|
| **å…¨æ–‡** | `get_fulltext` (Europe PMC), `get_core_fulltext` (CORE), `get_fulltext_xml` |
| **æ–‡å­—æ¢å‹˜** | `get_text_mined_terms` â†’ æ“·å–åŸºå› ã€ç–¾ç—…ã€åŒ–å­¸ç‰©è³ª |
| **åŒ¯å‡º** | `prepare_export` â†’ RIS/BibTeX/CSV/MEDLINE/JSON |
| **æŒ‡æ¨™** | `get_citation_metrics` â†’ iCite RCR, å¼•ç”¨ç™¾åˆ†ä½ |

### ğŸ•°ï¸ ç ”ç©¶æ™‚é–“è»¸ (v0.2.8 æ–°åŠŸèƒ½)

| å·¥å…· | èªªæ˜ |
|------|------|
| `build_research_timeline` | å»ºæ§‹æ™‚é–“è»¸ï¼Œé¡¯ç¤ºé—œéµé‡Œç¨‹ç¢‘ï¼ˆFDA æ ¸å‡†ã€Phase 3 ç­‰ï¼‰ |
| `build_timeline_from_pmids` | å¾ç‰¹å®š PMID åˆ—è¡¨å»ºæ§‹æ™‚é–“è»¸ |
| `analyze_timeline_milestones` | åˆ†æé‡Œç¨‹ç¢‘åˆ†ä½ˆ |
| `get_timeline_visualization` | ç”¢ç”Ÿ Mermaid/JSON è¦–è¦ºåŒ– |
| `compare_timelines` | æ¯”è¼ƒå¤šå€‹ä¸»é¡Œçš„æ™‚é–“è»¸ |
| `list_milestone_patterns` | æŸ¥çœ‹é‡Œç¨‹ç¢‘åµæ¸¬æ¨¡å¼ |

---

## ğŸ“‹ Agent ä½¿ç”¨ç¯„ä¾‹

### 1ï¸âƒ£ å¿«é€Ÿæœå°‹ï¼ˆæœ€ç°¡å–®ï¼‰

```python
# Agent è‡ªç„¶èªè¨€è©¢å• - ä¸­ä»‹å±¤è™•ç†ä¸€åˆ‡
unified_search(query="remimazolam ICU sedation", limit=20)

# æˆ–ä½¿ç”¨è‡¨åºŠä»£ç¢¼ - è‡ªå‹•è½‰æ›ç‚º MeSH
unified_search(query="I10 treatment in E11.9 patients")
#                     â†‘ ICD-10           â†‘ ICD-10
#                     é«˜è¡€å£“             ç¬¬äºŒå‹ç³–å°¿ç—…
```

### 2ï¸âƒ£ PICO è‡¨åºŠå•é¡Œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ã€Œremimazolam åœ¨ ICU é®éœæ¯” propofol å¥½å—ï¼Ÿã€                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         parse_pico()                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚    P    â”‚  â”‚    I    â”‚  â”‚    C    â”‚  â”‚    O    â”‚                     â”‚
â”‚  â”‚  ICU    â”‚  â”‚remimaz- â”‚  â”‚propofol â”‚  â”‚ é®éœ    â”‚                     â”‚
â”‚  â”‚  ç—…äºº   â”‚  â”‚  olam   â”‚  â”‚         â”‚  â”‚  çµæœ   â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚            â”‚            â”‚            â”‚
        â–¼            â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              generate_search_queries() Ã— 4ï¼ˆå¹³è¡Œï¼‰                       â”‚
â”‚                                                                          â”‚
â”‚  P â†’ "Intensive Care Units"[MeSH]                                        â”‚
â”‚  I â†’ "remimazolam" [Supplementary Concept], "CNS 7056"                   â”‚
â”‚  C â†’ "Propofol"[MeSH], "Diprivan"                                        â”‚
â”‚  O â†’ "Conscious Sedation"[MeSH], "Deep Sedation"[MeSH]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Agent ç”¨ Boolean é‚è¼¯çµ„åˆ                                   â”‚
â”‚                                                                          â”‚
â”‚  (P) AND (I) AND (C) AND (O)  â† é«˜ç²¾ç¢ºåº¦                                 â”‚
â”‚  (P) AND (I OR C) AND (O)     â† é«˜å¬å›ç‡                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              unified_search() Ã— Nï¼ˆå¹³è¡Œå¤šæºï¼‰                            â”‚
â”‚                                                                          â”‚
â”‚  PubMed â”€â”€â”¬â”€â”€ Europe PMC â”€â”€â”¬â”€â”€ CORE â”€â”€â–º merge_search_results()           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```python
# Step 1: è§£æè‡¨åºŠå•é¡Œ
parse_pico("remimazolam åœ¨ ICU é®éœæ¯” propofol å¥½å—ï¼Ÿ")
# è¿”å›: P=ICU ç—…äºº, I=remimazolam, C=propofol, O=é®éœçµæœ

# Step 2: å°æ¯å€‹å…ƒç´ å–å¾— MeSHï¼ˆå¹³è¡Œï¼ï¼‰
generate_search_queries(topic="ICU patients")   # P
generate_search_queries(topic="remimazolam")    # I
generate_search_queries(topic="propofol")       # C
generate_search_queries(topic="sedation")       # O

# Step 3: Agent ç”¨ Boolean çµ„åˆ
query = '("Intensive Care Units"[MeSH]) AND (remimazolam OR "CNS 7056") AND propofol AND sedation'

# Step 4: æœå°‹ä¸¦åˆä½µ
unified_search(query=query, sources=["pubmed", "europe_pmc", "core"])
```

### 3ï¸âƒ£ å¾é—œéµè«–æ–‡æ¢ç´¢

```python
# æ‰¾åˆ°é‡Œç¨‹ç¢‘è«–æ–‡ PMID: 33475315
find_related_articles(pmid="33475315")   # é¡ä¼¼æ–¹æ³•è«–
find_citing_articles(pmid="33475315")    # èª°å¼•ç”¨äº†é€™ç¯‡ï¼Ÿ
get_article_references(pmid="33475315")  # åŸºç¤æ˜¯ä»€éº¼ï¼Ÿ

# å»ºæ§‹å®Œæ•´ç ”ç©¶è„ˆçµ¡
build_citation_tree(pmid="33475315", depth=2, output_format="mermaid")
```

### 4ï¸âƒ£ åŸºå› /è—¥ç‰©ç ”ç©¶

```python
# ç ”ç©¶åŸºå› 
search_gene(query="BRCA1", organism="human")
get_gene_literature(gene_id="672", limit=20)

# ç ”ç©¶è—¥ç‰©åŒ–åˆç‰©
search_compound(query="propofol")
get_compound_literature(cid="4943", limit=20)
```

### 5ï¸âƒ£ åŒ¯å‡ºçµæœ

```python
# åŒ¯å‡ºä¸Šæ¬¡æœå°‹çµæœ
prepare_export(pmids="last", format="ris")      # â†’ EndNote/Zotero
prepare_export(pmids="last", format="bibtex")   # â†’ LaTeX

# æª¢æŸ¥é–‹æ”¾å–ç”¨å¯ç”¨æ€§
analyze_fulltext_access(pmids="last")
```

---

## ğŸ” æœå°‹æ¨¡å¼æ¯”è¼ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æœå°‹æ¨¡å¼æ±ºç­–æ¨¹                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   ã€Œæˆ‘éœ€è¦ä»€éº¼æ¨£çš„æœå°‹ï¼Ÿã€                                                 â”‚
â”‚         â”‚                                                                â”‚
â”‚         â”œâ”€â”€ ç¢ºåˆ‡çŸ¥é“è¦æœä»€éº¼ï¼Ÿ                                            â”‚
â”‚         â”‚   â””â”€â”€ unified_search(query="ä¸»é¡Œé—œéµå­—")                        â”‚
â”‚         â”‚       â†’ å¿«é€Ÿï¼Œè‡ªå‹•è·¯ç”±åˆ°æœ€ä½³ä¾†æº                                 â”‚
â”‚         â”‚                                                                â”‚
â”‚         â”œâ”€â”€ æœ‰è‡¨åºŠå•é¡Œï¼ˆA vs Bï¼‰ï¼Ÿ                                        â”‚
â”‚         â”‚   â””â”€â”€ parse_pico() â†’ unified_search(mode="pico")               â”‚
â”‚         â”‚       â†’ çµæ§‹åŒ– P/I/C/O æœå°‹ + Boolean                          â”‚
â”‚         â”‚                                                                â”‚
â”‚         â”œâ”€â”€ éœ€è¦å…¨é¢ç³»çµ±æ€§è¦†è“‹ï¼Ÿ                                          â”‚
â”‚         â”‚   â””â”€â”€ generate_search_queries() â†’ å¹³è¡Œæœå°‹                     â”‚
â”‚         â”‚       â†’ MeSH æ“´å±•ï¼Œå¤šç­–ç•¥ï¼Œåˆä½µ                                 â”‚
â”‚         â”‚                                                                â”‚
â”‚         â””â”€â”€ å¾é—œéµè«–æ–‡æ¢ç´¢ï¼Ÿ                                              â”‚
â”‚             â””â”€â”€ find_related/citing/references â†’ build_citation_tree     â”‚
â”‚                 â†’ å¼•ç”¨ç¶²çµ¡ï¼Œç ”ç©¶è„ˆçµ¡                                      â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| æ¨¡å¼ | å…¥å£ | é©ç”¨æƒ…å¢ƒ | è‡ªå‹•åŠŸèƒ½ |
|------|------|----------|----------|
| **å¿«é€Ÿ** | `unified_search()` | å¿«é€Ÿä¸»é¡Œæœå°‹ | ICDâ†’MeSH, å¤šæº, å»é‡ |
| **PICO** | `parse_pico()` | è‡¨åºŠå•é¡Œ | P/I/C/O åˆ†è§£, Boolean |
| **ç³»çµ±** | `generate_search_queries()` | æ–‡ç»å›é¡§ | MeSH æ“´å±•, åŒç¾©è© |
| **æ¢ç´¢** | `find_*_articles()` | å¾é—œéµè«–æ–‡ | å¼•ç”¨ç¶²çµ¡, ç›¸é—œ |

---

## ğŸ¤– Claude Skillsï¼ˆAI Agent å·¥ä½œæµç¨‹ï¼‰

é å»ºå·¥ä½œæµç¨‹æŒ‡å—ä½æ–¼ `.claude/skills/`ï¼š

| Skill | èªªæ˜ |
|-------|------|
| `pubmed-quick-search` | åŸºæœ¬æœå°‹å«ç¯©é¸ |
| `pubmed-systematic-search` | MeSH æ“´å±•ï¼Œå…¨é¢æ€§ |
| `pubmed-pico-search` | è‡¨åºŠå•é¡Œåˆ†è§£ |
| `pubmed-paper-exploration` | å¼•ç”¨æ¨¹ï¼Œç›¸é—œæ–‡ç«  |
| `pubmed-gene-drug-research` | Gene/PubChem/ClinVar |
| `pubmed-fulltext-access` | Europe PMC, CORE å…¨æ–‡ |
| `pubmed-export-citations` | RIS/BibTeX/CSV åŒ¯å‡º |

> ğŸ“ **ä½ç½®**: `.claude/skills/*/SKILL.md`ï¼ˆClaude Code å°ˆå±¬ï¼‰

---

## ğŸ—ï¸ æ¶æ§‹ï¼ˆDDDï¼‰

æœ¬å°ˆæ¡ˆæ¡ç”¨ **Domain-Driven Design (DDD)** æ¶æ§‹ï¼Œä»¥æ–‡ç»ç ”ç©¶é ˜åŸŸçŸ¥è­˜ç‚ºæ ¸å¿ƒæ¨¡å‹ã€‚

```
src/pubmed_search/
â”œâ”€â”€ domain/                     # æ ¸å¿ƒæ¥­å‹™é‚è¼¯
â”‚   â””â”€â”€ entities/article.py     # UnifiedArticle, Author ç­‰
â”œâ”€â”€ application/                # ç”¨ä¾‹
â”‚   â”œâ”€â”€ search/                 # QueryAnalyzer, ResultAggregator
â”‚   â”œâ”€â”€ export/                 # å¼•ç”¨åŒ¯å‡ºï¼ˆRIS, BibTeX...ï¼‰
â”‚   â””â”€â”€ session/                # SessionManager
â”œâ”€â”€ infrastructure/             # å¤–éƒ¨ç³»çµ±
â”‚   â”œâ”€â”€ ncbi/                   # Entrez, iCite, Citation Exporter
â”‚   â”œâ”€â”€ sources/                # Europe PMC, CORE, CrossRef...
â”‚   â””â”€â”€ http/                   # HTTP å®¢æˆ¶ç«¯
â”œâ”€â”€ presentation/               # ä½¿ç”¨è€…ä»‹é¢
â”‚   â”œâ”€â”€ mcp_server/             # MCP å·¥å…·ã€promptsã€resources
â”‚   â”‚   â””â”€â”€ tools/              # discovery, strategy, pico, export...
â”‚   â””â”€â”€ api/                    # REST APIï¼ˆCopilot Studioï¼‰
â””â”€â”€ shared/                     # è·¨åˆ‡é¢é—œæ³¨
    â”œâ”€â”€ exceptions.py           # çµ±ä¸€éŒ¯èª¤è™•ç†
    â””â”€â”€ async_utils.py          # Rate limiter, retry, circuit breaker
```

### å…§éƒ¨æ©Ÿåˆ¶ï¼ˆå° Agent é€æ˜ï¼‰

| æ©Ÿåˆ¶ | èªªæ˜ |
|------|------|
| **Session** | è‡ªå‹•å»ºç«‹ã€è‡ªå‹•åˆ‡æ› |
| **Cache** | æœå°‹çµæœè‡ªå‹•å¿«å–ï¼Œé¿å…é‡è¤‡ API å‘¼å« |
| **Rate Limit** | è‡ªå‹•éµå®ˆ NCBI API é™åˆ¶ (0.34s/0.1s) |
| **MeSH Lookup** | `generate_search_queries()` è‡ªå‹•æŸ¥è©¢ NCBI MeSH è³‡æ–™åº« |
| **ESpell** | è‡ªå‹•æ‹¼å­—æ ¡æ­£ï¼ˆ`remifentanyl` â†’ `remifentanil`ï¼‰|
| **Query Analysis** | æ¯å€‹å»ºè­°æŸ¥è©¢éƒ½é¡¯ç¤º PubMed å¯¦éš›å¦‚ä½•è©®é‡‹ |

### è©å½™è½‰æ›å±¤ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

> **æ ¸å¿ƒåƒ¹å€¼**ï¼šæˆ‘å€‘æ˜¯ **Agent èˆ‡ Search Engine ä¹‹é–“çš„æ™ºæ…§ä¸­ä»‹å±¤**ï¼Œè‡ªå‹•è™•ç†è©å½™æ¨™æº–åŒ–ï¼Œè®“ Agent ç„¡éœ€äº†è§£å„è³‡æ–™åº«çš„è¡“èªç³»çµ±ã€‚

ä¸åŒè³‡æ–™ä¾†æºä½¿ç”¨ä¸åŒçš„æ§åˆ¶è©å½™ç³»çµ±ã€‚æœ¬ä¼ºæœå™¨æä¾›è‡ªå‹•è½‰æ›ï¼š

| API / è³‡æ–™åº« | è©å½™ç³»çµ± | è‡ªå‹•è½‰æ› |
|--------------|----------|----------|
| **PubMed / NCBI** | MeSH (é†«å­¸ä¸»é¡Œè©è¡¨) | âœ… å®Œæ•´æ”¯æ´ `expand_with_mesh()` |
| **ICD ç¢¼** | ICD-10-CM / ICD-9-CM | âœ… è‡ªå‹•åµæ¸¬ä¸¦è½‰æ›ç‚º MeSH |
| **Europe PMC** | æ–‡å­—æ¢å‹˜å¯¦é«” (Gene, Disease, Chemical) | âœ… `get_text_mined_terms()` æ“·å– |
| **OpenAlex** | OpenAlex Concepts (å·²æ£„ç”¨) | âŒ åƒ…æ”¯æ´è‡ªç”±æ–‡å­— |
| **Semantic Scholar** | S2 Field of Study | âŒ åƒ…æ”¯æ´è‡ªç”±æ–‡å­— |
| **CORE** | ç„¡ | âŒ åƒ…æ”¯æ´è‡ªç”±æ–‡å­— |
| **CrossRef** | ç„¡ | âŒ åƒ…æ”¯æ´è‡ªç”±æ–‡å­— |

#### è‡ªå‹• ICD â†’ MeSH è½‰æ›

ç•¶æœå°‹åŒ…å« ICD ç¢¼æ™‚ï¼ˆä¾‹å¦‚ `I10` ä»£è¡¨é«˜è¡€å£“ï¼‰ï¼Œ`unified_search()` æœƒè‡ªå‹•ï¼š
1. é€é `detect_and_expand_icd_codes()` åµæ¸¬ ICD-10/ICD-9 æ¨¡å¼
2. å¾å…§éƒ¨æ˜ å°„è¡¨æŸ¥è©¢å°æ‡‰ MeSH è©å½™ (`ICD10_TO_MESH`, `ICD9_TO_MESH`)
3. ä»¥ MeSH åŒç¾©è©æ“´å±•æŸ¥è©¢ï¼Œæä¾›æ›´å®Œæ•´çš„æœå°‹çµæœ

```python
# Agent ä½¿ç”¨è‡¨åºŠè¡“èªå‘¼å« unified_search
unified_search(query="I10 treatment outcomes")

# ä¼ºæœå™¨è‡ªå‹•æ“´å±•ç‚º PubMed ç›¸å®¹æŸ¥è©¢
"(I10 OR Hypertension[MeSH]) treatment outcomes"
```

> ğŸ“– **å®Œæ•´æ¶æ§‹èªªæ˜**ï¼š[ARCHITECTURE.md](ARCHITECTURE.md)

### MeSH è‡ªå‹•æ“´å±• + æŸ¥è©¢åˆ†æ

å‘¼å« `generate_search_queries("remimazolam sedation")` æ™‚ï¼Œå…§éƒ¨æœƒï¼š

1. **ESpell æ ¡æ­£** - ä¿®æ­£æ‹¼å­—éŒ¯èª¤
2. **MeSH æŸ¥è©¢** - `Entrez.esearch(db="mesh")` å–å¾—æ¨™æº–è©å½™
3. **åŒç¾©è©æ“·å–** - å¾ MeSH Entry Terms å–å¾—åŒç¾©è©
4. **æŸ¥è©¢åˆ†æ** - åˆ†æ PubMed å¦‚ä½•è©®é‡‹æ¯å€‹æŸ¥è©¢

```json
{
  "mesh_terms": [
    {
      "input": "remimazolam",
      "preferred": "remimazolam [Supplementary Concept]",
      "synonyms": ["CNS 7056", "ONO 2745"]
    }
  ],
  "all_synonyms": ["CNS 7056", "ONO 2745", ...],
  "suggested_queries": [
    {
      "id": "q1_title",
      "query": "(remimazolam sedation)[Title]",
      "purpose": "ç²¾ç¢ºæ¨™é¡ŒåŒ¹é… - æœ€é«˜ç²¾ç¢ºåº¦",
      "estimated_count": 8,
      "pubmed_translation": "\"remimazolam sedation\"[Title]"
    },
    {
      "id": "q3_and",
      "query": "(remimazolam AND sedation)",
      "purpose": "æ‰€æœ‰é—œéµå­—å¿…é ˆå‡ºç¾",
      "estimated_count": 561,
      "pubmed_translation": "(\"remimazolam\"[Supplementary Concept] OR \"remimazolam\"[All Fields]) AND (\"sedate\"[All Fields] OR ...)"
    }
  ]
}
```

> **æŸ¥è©¢åˆ†æçš„åƒ¹å€¼**ï¼šAgent èªç‚º `remimazolam AND sedation` åªæœå°‹é€™å…©å€‹è©ï¼Œä½† PubMed å¯¦éš›ä¸Šæ“´å±•åˆ° Supplementary Concept + åŒç¾©è©ï¼Œçµæœå¾ 8 ç¯‡è®Šæˆ 561 ç¯‡ã€‚é€™å¹«åŠ© Agent ç†è§£**æ„åœ–**èˆ‡**å¯¦éš›æœå°‹**çš„å·®ç•°ã€‚

---

## ğŸ”’ HTTPS éƒ¨ç½²

ç‚ºç”Ÿç”¢ç’°å¢ƒå•Ÿç”¨ HTTPS å®‰å…¨é€šè¨Šã€‚

### å¿«é€Ÿé–‹å§‹

```bash
# Step 1: ç”Ÿæˆ SSL æ†‘è­‰
./scripts/generate-ssl-certs.sh

# Step 2: å•Ÿå‹• HTTPS æœå‹™ï¼ˆDockerï¼‰
./scripts/start-https-docker.sh up

# é©—è­‰éƒ¨ç½²
curl -k https://localhost/
```

### HTTPS ç«¯é»

| æœå‹™ | URL | èªªæ˜ |
|------|-----|------|
| MCP SSE | `https://localhost/sse` | SSE é€£ç·šï¼ˆMCPï¼‰|
| Messages | `https://localhost/messages` | MCP POST |
| Health | `https://localhost/health` | å¥åº·æª¢æŸ¥ |

### Claude Desktop è¨­å®š

```json
{
  "mcpServers": {
    "pubmed-search": {
      "url": "https://localhost/sse"
    }
  }
}
```

---

## ğŸ¢ Microsoft Copilot Studio æ•´åˆ

å°‡ PubMed Search MCP èˆ‡ **Microsoft 365 Copilot**ï¼ˆWord, Teams, Outlookï¼‰æ•´åˆï¼

### å¿«é€Ÿé–‹å§‹

```bash
# ä½¿ç”¨ Streamable HTTP transport å•Ÿå‹•ï¼ˆCopilot Studio è¦æ±‚ï¼‰
python run_server.py --transport streamable-http --port 8765

# æˆ–ä½¿ç”¨å°ˆç”¨è…³æœ¬æ­é… ngrok
./scripts/start-copilot-studio.sh --with-ngrok
```

### Copilot Studio è¨­å®š

| æ¬„ä½ | å€¼ |
|------|---|
| **Server name** | `PubMed Search` |
| **Server URL** | `https://your-server.com/mcp` |
| **Authentication** | `None`ï¼ˆæˆ– API Keyï¼‰|

> ğŸ“– **å®Œæ•´æ–‡ä»¶**: [copilot-studio/README.md](copilot-studio/README.md)
>
> âš ï¸ **æ³¨æ„**: SSE transport è‡ª 2025 å¹´ 8 æœˆèµ·æ£„ç”¨ã€‚ä½¿ç”¨ `streamable-http`ã€‚

---

> ğŸ“– **æ›´å¤šæ–‡ä»¶**:
> - æ¶æ§‹ â†’ [ARCHITECTURE.md](ARCHITECTURE.md)
> - éƒ¨ç½²æŒ‡å— â†’ [DEPLOYMENT.md](DEPLOYMENT.md)
> - Copilot Studio â†’ [copilot-studio/README.md](copilot-studio/README.md)

---

## ğŸ” å®‰å…¨æ€§

### å®‰å…¨åŠŸèƒ½

| å±¤ç´š | åŠŸèƒ½ | èªªæ˜ |
|------|------|------|
| **HTTPS** | TLS 1.2/1.3 åŠ å¯† | æ‰€æœ‰æµé‡é€é Nginx åŠ å¯† |
| **Rate Limiting** | 30 req/s | Nginx å±¤ç´šä¿è­· |
| **Security Headers** | XSS/CSRF é˜²è­· | X-Frame-Options, X-Content-Type-Options |
| **SSE Optimization** | 24h timeout | å³æ™‚é•·é€£ç·š |
| **No Database** | ç„¡ç‹€æ…‹ | ç„¡ SQL æ³¨å…¥é¢¨éšª |
| **No Secrets** | åƒ…è¨˜æ†¶é«” | ä¸å„²å­˜æ†‘è­‰ |

è©³è¦‹ [DEPLOYMENT.md](DEPLOYMENT.md) å®Œæ•´éƒ¨ç½²èªªæ˜ã€‚

---

## ğŸ“¤ åŒ¯å‡ºæ ¼å¼

åŒ¯å‡ºæœå°‹çµæœç‚ºå„å¤§åƒè€ƒæ–‡ç»ç®¡ç†è»Ÿé«”ç›¸å®¹çš„æ ¼å¼ï¼š

| æ ¼å¼ | ç›¸å®¹è»Ÿé«” | ç”¨é€” |
|------|----------|------|
| **RIS** | EndNote, Zotero, Mendeley | é€šç”¨åŒ¯å…¥ |
| **BibTeX** | LaTeX, Overleaf, JabRef | å­¸è¡“å¯«ä½œ |
| **CSV** | Excel, Google Sheets | è³‡æ–™åˆ†æ |
| **MEDLINE** | PubMed åŸç”Ÿæ ¼å¼ | å­˜æª” |
| **JSON** | ç¨‹å¼å­˜å– | è‡ªè¨‚è™•ç† |

### åŒ¯å‡ºæ¬„ä½
- **æ ¸å¿ƒ**: PMID, æ¨™é¡Œ, ä½œè€…, æœŸåˆŠ, å¹´ä»½, å·æœŸé ç¢¼
- **è­˜åˆ¥ç¢¼**: DOI, PMC ID, ISSN
- **å…§å®¹**: æ‘˜è¦ï¼ˆHTML æ¨™ç±¤å·²æ¸…é™¤ï¼‰
- **è©®é‡‹è³‡æ–™**: èªè¨€, æ–‡ç« é¡å‹, é—œéµè©
- **å­˜å–**: DOI URL, PMC URL, å…¨æ–‡å¯ç”¨æ€§

### ç‰¹æ®Šå­—å…ƒè™•ç†
- BibTeX åŒ¯å‡ºä½¿ç”¨ **pylatexenc** é€²è¡Œæ­£ç¢ºçš„ LaTeX ç·¨ç¢¼
- åŒ—æ­å­—å…ƒ (Ã¸, Ã¦, Ã¥)ã€è®ŠéŸ³ç¬¦è™Ÿ (Ã¼, Ã¶, Ã¤) å’Œé‡éŸ³ç¬¦è™Ÿéƒ½èƒ½æ­£ç¢ºè½‰æ›
- ç¯„ä¾‹: `SÃ¸ren Hansen` â†’ `S{\o}ren Hansen`

---

## ğŸ“„ æˆæ¬Š

Apache License 2.0 - è©³è¦‹ [LICENSE](LICENSE)

---

## ğŸ”— ç›¸é—œé€£çµ

- [GitHub Repository](https://github.com/u9401066/pubmed-search-mcp)
- [PyPI Package](https://pypi.org/project/pubmed-search/)
- [NCBI Entrez Programming Utilities](https://www.ncbi.nlm.nih.gov/books/NBK25497/)

# PubMed Search MCP - Roadmap

## é¡˜æ™¯

**ä½¿å‘½**ï¼šæˆç‚º AI Agent çš„å°ˆæ¥­æ–‡ç»ç ”ç©¶åŠ©ç†ï¼Œè€Œéå–®ç´”çš„ API åŒ…è£å™¨ã€‚

**è¨­è¨ˆå“²å­¸**ï¼š
- **Domain-Driven Design (DDD)** - ä»¥æ–‡ç»ç ”ç©¶é ˜åŸŸç‚ºæ ¸å¿ƒå»ºæ¨¡
- **ä»»å‹™å°å‘** - Tool è¨­è¨ˆä»¥ç ”ç©¶ä»»å‹™ç‚ºå–®ä½ï¼Œè€Œé API åŠŸèƒ½
- **Agent-First** - è¼¸å‡ºæ ¼å¼å„ªåŒ–ç‚º Agent æ±ºç­–ï¼Œè€Œéäººé¡é–±è®€

---

## æ¶æ§‹è¨­è¨ˆ (DDD)

### é ˜åŸŸæ¨¡å‹ (Domain Model)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Research Session (èšåˆæ ¹)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Topic     â”‚  â”‚  Search     â”‚  â”‚  Reading    â”‚          â”‚
â”‚  â”‚   Context   â”‚  â”‚  History    â”‚  â”‚  List       â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚              Article Collection                  â”‚        â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚        â”‚
â”‚  â”‚  â”‚ Article â”‚  â”‚ Article â”‚  â”‚ Article â”‚  ...    â”‚        â”‚
â”‚  â”‚  â”‚ (PMID)  â”‚  â”‚ (PMID)  â”‚  â”‚ (PMID)  â”‚         â”‚        â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é™ç•Œä¸Šä¸‹æ–‡ (Bounded Contexts)

| Context | è·è²¬ | æ ¸å¿ƒå¯¦é«” |
|---------|------|----------|
| **Discovery** | æ¢ç´¢èˆ‡æœå°‹æ–‡ç» | Query, SearchResult |
| **Analysis** | åˆ†ææ–‡ç»å…§å®¹èˆ‡é—œä¿‚ | Article, CitationNetwork |
| **Curation** | ç®¡ç†èˆ‡çµ„ç¹”æ–‡ç» | ReadingList, Collection |
| **Export** | è¼¸å‡ºèˆ‡æ•´åˆ | Citation, Report |

---

## MCP å…ƒä»¶è¨­è¨ˆ

### Tools (ä»»å‹™å°å‘)

#### Tier 1: æ¢ç´¢å‹ (Discovery)
| Tool | ä»»å‹™ | è¼¸å…¥ | è¼¸å‡º |
|------|------|------|------|
| `explore_topic` | å¿«é€Ÿäº†è§£ä¸€å€‹ç ”ç©¶ä¸»é¡Œ | topic, depth | æœå°‹çµæœ + é ˜åŸŸæ¦‚æ³ + å»ºè­°æ–¹å‘ |
| `deep_search` | åŸ·è¡Œæ·±åº¦ç³»çµ±æ€§æœå°‹ | query, filters | å®Œæ•´çµæœ + PRISMA çµ±è¨ˆ |
| `validate_search` | é©—è­‰æœå°‹ç­–ç•¥ | query | æ‹¼å¯«æª¢æŸ¥ + MeSH å»ºè­° + é ä¼°çµæœæ•¸ |

#### Tier 2: åˆ†æå‹ (Analysis)
| Tool | ä»»å‹™ | è¼¸å…¥ | è¼¸å‡º |
|------|------|------|------|
| `trace_lineage` | è¿½è¹¤ç ”ç©¶è„ˆçµ¡ | pmid | å¼•ç”¨ç¶²çµ¡ + é—œéµè«–æ–‡ + æ™‚é–“è»¸ |
| `compare_studies` | æ¯”è¼ƒå¤šç¯‡ç ”ç©¶ | pmids | æ–¹æ³•/çµæœ/çµè«–å°æ¯”è¡¨ |
| `find_consensus` | æ‰¾å‡ºé ˜åŸŸå…±è­˜èˆ‡çˆ­è­° | topic | å…±è­˜é» + çˆ­è­°é» + è­‰æ“šå¼·åº¦ |

#### Tier 3: ç®¡ç†å‹ (Curation)
| Tool | ä»»å‹™ | è¼¸å…¥ | è¼¸å‡º |
|------|------|------|------|
| `add_to_reading_list` | åŠ å…¥å¾…è®€æ¸…å–® | pmids, priority | ç¢ºèª + æ¸…å–®ç‹€æ…‹ |
| `organize_collection` | æ•´ç†æ–‡ç»é›†åˆ | criteria | åˆ†é¡çµæœ + æ¨™ç±¤å»ºè­° |
| `get_full_text` | å–å¾—å…¨æ–‡å­˜å– | pmid | PDF URL / PMC é€£çµ / ä»˜è²»ç‰†ç‹€æ…‹ |

#### Tier 4: è¼¸å‡ºå‹ (Export)
| Tool | ä»»å‹™ | è¼¸å…¥ | è¼¸å‡º |
|------|------|------|------|
| `export_citations` | è¼¸å‡ºå¼•ç”¨æ ¼å¼ | pmids, format | RIS / BibTeX / APA |
| `generate_summary` | ç”Ÿæˆæ–‡ç»æ‘˜è¦ | pmids | çµæ§‹åŒ–æ‘˜è¦å ±å‘Š |

### Resources (ç‹€æ…‹æŸ¥è©¢)

```python
# Agent å¯éš¨æ™‚æŸ¥è©¢çš„ç‹€æ…‹
research://session          # ç•¶å‰ç ”ç©¶ session
research://topic            # ç ”ç©¶ä¸»é¡Œèˆ‡èƒŒæ™¯
research://search-history   # æœå°‹æ­·å²
research://reading-list     # å¾…è®€æ¸…å–®
research://excluded         # æ’é™¤æ¸…å–®
research://notes            # æ–‡ç»ç­†è¨˜
```

### Prompts (æµç¨‹å¼•å°)

```python
# é è¨­å°è©±æ¨¡æ¿ï¼Œå¼•å°è¤‡é›œç ”ç©¶æµç¨‹
systematic_review_start     # é–‹å§‹ç³»çµ±æ€§æ–‡ç»å›é¡§
research_question_refine    # å„ªåŒ–ç ”ç©¶å•é¡Œ (PICO)
search_strategy_develop     # ç™¼å±•æœå°‹ç­–ç•¥
evidence_synthesis          # è­‰æ“šç¶œåˆ
```

---

## è¼¸å‡ºæ ¼å¼è¨­è¨ˆ (Agent-Optimized)

### åŸå‰‡
1. **çµæ§‹åŒ– JSON** - ä¾¿æ–¼ Agent è§£æ
2. **åŒ…å«æ´å¯Ÿ** - ä¸åªæ˜¯è³‡æ–™ï¼Œé‚„æœ‰åˆ†æ
3. **å»ºè­°ä¸‹ä¸€æ­¥** - å¹«åŠ© Agent æ±ºç­–

### ç¯„ä¾‹è¼¸å‡º

```json
{
  "task": "explore_topic",
  "topic": "remimazolam ICU sedation",
  "results": {
    "articles_found": 45,
    "top_articles": [...],
    "time_distribution": {
      "2020-2022": 12,
      "2023-2024": 28,
      "2025": 5
    }
  },
  "insights": {
    "research_trend": "å¿«é€Ÿå¢é•·ï¼Œ2023å¹´å¾Œç ”ç©¶é‡å€å¢",
    "dominant_study_types": ["RCT", "è§€å¯Ÿæ€§ç ”ç©¶"],
    "geographic_focus": ["ä¸­åœ‹", "æ—¥æœ¬", "å¾·åœ‹"],
    "knowledge_gaps": [
      "ç¼ºä¹å…’ç§‘æ—ç¾¤ç ”ç©¶",
      "é•·æœŸä½¿ç”¨å®‰å…¨æ€§è³‡æ–™ä¸è¶³"
    ]
  },
  "suggested_actions": [
    {
      "action": "trace_lineage",
      "target": "PMID:12345678",
      "reason": "é«˜å¼•ç”¨è«–æ–‡ï¼Œå¯èƒ½æ˜¯é ˜åŸŸå¥ åŸºç ”ç©¶"
    },
    {
      "action": "deep_search",
      "params": {"filter": "RCT"},
      "reason": "å¦‚éœ€é«˜å“è³ªè­‰æ“šï¼Œå»ºè­°ç¯©é¸ RCT"
    }
  ],
  "session_updated": true
}
```

---

## å¯¦ä½œè·¯ç·šåœ–

### Phase 1: åŸºç¤ç©©å®š âœ… (å·²å®Œæˆ)
- [x] åŸºæœ¬ PubMed æœå°‹
- [x] MCP Server (stdio + HTTP/SSE)
- [x] é ç«¯éƒ¨ç½²æ”¯æ´
- [x] éŒ¯èª¤é‡è©¦æ©Ÿåˆ¶

### Phase 2: DDD é‡æ§‹ ğŸ¯ (ä¸‹ä¸€æ­¥)
- [ ] å®šç¾©é ˜åŸŸæ¨¡å‹ (Domain Model)
- [ ] å¯¦ä½œ Research Session èšåˆæ ¹
- [ ] é‡æ§‹ç‚ºä»»å‹™å°å‘ Tools
- [ ] å¯¦ä½œ Resources (ç‹€æ…‹ç®¡ç†)

### Phase 3: Agent å„ªåŒ–
- [ ] çµæ§‹åŒ–è¼¸å‡ºæ ¼å¼
- [ ] æ™ºæ…§æ´å¯Ÿç”Ÿæˆ
- [ ] å»ºè­°è¡Œå‹•ç³»çµ±
- [ ] Prompts æµç¨‹å¼•å°

### Phase 4: é€²éšåˆ†æ
- [ ] å¼•ç”¨ç¶²çµ¡åˆ†æ
- [ ] ç ”ç©¶è¶¨å‹¢åˆ†æ
- [ ] çŸ¥è­˜ç¼ºå£è­˜åˆ¥
- [ ] è­‰æ“šå“è³ªè©•ä¼°

### Phase 5: æ•´åˆæ“´å±•
- [ ] å¤šè³‡æ–™åº«æ”¯æ´ (Cochrane, ClinicalTrials.gov)
- [ ] å¼•ç”¨ç®¡ç†å™¨æ•´åˆ (Zotero, EndNote)
- [ ] æœ¬åœ°çŸ¥è­˜åº« (å‘é‡è³‡æ–™åº«)

---

## è¨­è¨ˆæ±ºç­–è¨˜éŒ„

| æ—¥æœŸ | æ±ºç­– | ç†ç”± |
|------|------|------|
| 2024-12-03 | æ¡ç”¨ DDD æ¶æ§‹ | æ›´å¥½åœ°åæ˜ æ–‡ç»ç ”ç©¶é ˜åŸŸçŸ¥è­˜ |
| 2024-12-03 | ä»»å‹™å°å‘ Tool è¨­è¨ˆ | æ¸›å°‘ Agent çš„èªçŸ¥è² æ“” |
| 2024-12-03 | çµæ§‹åŒ– JSON è¼¸å‡º | å„ªåŒ– Agent æ±ºç­–æ•ˆç‡ |
| 2024-12-03 | Research Session ä½œç‚ºèšåˆæ ¹ | ç¶­æŒç ”ç©¶ä¸Šä¸‹æ–‡ä¸€è‡´æ€§ |

---

## è²¢ç»æŒ‡å—

æ­¡è¿è²¢ç»ï¼ç›®å‰å„ªå…ˆéœ€è¦ï¼š
1. Phase 2 çš„ DDD é‡æ§‹
2. Resources ç‹€æ…‹ç®¡ç†å¯¦ä½œ
3. æ¸¬è©¦æ¡ˆä¾‹

è«‹åƒè€ƒ [CONTRIBUTING.md](CONTRIBUTING.md) äº†è§£å¦‚ä½•è²¢ç»ã€‚

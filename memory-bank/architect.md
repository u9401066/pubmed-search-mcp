# System Architect

> ğŸ“Œ æ­¤æª”æ¡ˆè¨˜éŒ„é‡å¤§æ¶æ§‹æ±ºç­–ï¼Œæ¶æ§‹è®Šæ›´æ™‚æ›´æ–°ã€‚

## ğŸŒ ç³»çµ±æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 PubMed Search MCP Server                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¯ Presentation Layer (MCP Tools)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  src/pubmed_search/mcp/                             â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ server.py          # MCP Server (SSE/STDIO)   â”‚   â”‚
â”‚  â”‚  â””â”€â”€ tools/             # 15+ MCP Tools            â”‚   â”‚
â”‚  â”‚      â”œâ”€â”€ discovery.py   # search_literature, etc.  â”‚   â”‚
â”‚  â”‚      â”œâ”€â”€ strategy.py    # generate_search_queries  â”‚   â”‚
â”‚  â”‚      â”œâ”€â”€ pico.py        # parse_pico               â”‚   â”‚
â”‚  â”‚      â”œâ”€â”€ export.py      # prepare_export           â”‚   â”‚
â”‚  â”‚      â””â”€â”€ citation_tree.py # Citation Tree          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš™ï¸ Infrastructure Layer (API Clients)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  src/pubmed_search/entrez/                          â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ search.py          # ESearch, EFetch          â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ citation.py        # ELink (citations)        â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ icite.py           # NIH iCite API            â”‚   â”‚
â”‚  â”‚  â””â”€â”€ utils.py           # MeSH, ESpell             â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  src/pubmed_search/sources/                         â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ semantic_scholar.py                            â”‚   â”‚
â”‚  â”‚  â””â”€â”€ openalex.py                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŒ External APIs                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  NCBI   â”‚ â”‚ Semantic     â”‚ â”‚  OpenAlex   â”‚            â”‚
â”‚  â”‚ Entrez  â”‚ â”‚ Scholar      â”‚ â”‚             â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ›ï¸ æ¶æ§‹æ±ºç­–ç´€éŒ„

### ADR-001: MCP ä½œç‚ºä¸»è¦ä»‹é¢

**æ—¥æœŸ**ï¼š2025-01

**èƒŒæ™¯**ï¼šéœ€è¦è®“ AI Agent èƒ½ä½¿ç”¨ PubMed æœå°‹åŠŸèƒ½

**æ±ºå®š**ï¼šæ¡ç”¨ Model Context Protocol (MCP) ä½œç‚ºä¸»è¦ä»‹é¢

**ç†ç”±**ï¼š
- MCP æ˜¯ AI Agent å·¥å…·çš„æ¨™æº–å”å®š
- æ”¯æ´ Claude, GPT ç­‰å¤šç¨® LLM
- SSE/STDIO é›™æ¨¡å¼æ”¯æ´æœ¬åœ°èˆ‡é ç«¯

### ADR-002: Biopython Entrez å°è£

**æ—¥æœŸ**ï¼š2025-01

**èƒŒæ™¯**ï¼šéœ€è¦ç©©å®šçš„ NCBI API å­˜å–

**æ±ºå®š**ï¼šä½¿ç”¨ Biopython çš„ Entrez æ¨¡çµ„ä½œç‚ºåŸºç¤

**ç†ç”±**ï¼š
- æˆç†Ÿç©©å®šçš„ NCBI API å®¢æˆ¶ç«¯
- è‡ªå‹•è™•ç† rate limiting
- å…§å»º XML è§£æ

### ADR-003: å¤šä¾†æºæ•´åˆç­–ç•¥

**æ—¥æœŸ**ï¼š2025-01 (v0.1.10+)

**èƒŒæ™¯**ï¼šPubMed ä¹‹å¤–é‚„æœ‰å…¶ä»–æœ‰åƒ¹å€¼çš„ä¾†æº

**æ±ºå®š**ï¼šæ–°å¢ Semantic Scholar å’Œ OpenAlex ä½œç‚ºè£œå……ä¾†æº

**ç†ç”±**ï¼š
- Semantic Scholar æœ‰æ›´å¥½çš„å¼•ç”¨åˆ†æ
- OpenAlex æ˜¯é–‹æ”¾è³‡æ–™ä¾†æº
- ä¿æŒ PubMed ç‚ºä¸»è¦ä¾†æº

## ğŸ“¦ æ¨¡çµ„åœ–

```
src/pubmed_search/
â”œâ”€â”€ mcp/                 # MCP Layer
â”‚   â”œâ”€â”€ server.py
â”‚   â”œâ”€â”€ session_tools.py
â”‚   â””â”€â”€ tools/          # 5 å€‹å·¥å…·æ¨¡çµ„
â”‚
â”œâ”€â”€ entrez/             # NCBI Entrez Layer
â”‚   â”œâ”€â”€ search.py
â”‚   â”œâ”€â”€ citation.py
â”‚   â”œâ”€â”€ icite.py
â”‚   â””â”€â”€ utils.py
â”‚
â”œâ”€â”€ sources/            # Multi-Source Layer
â”‚   â”œâ”€â”€ semantic_scholar.py
â”‚   â””â”€â”€ openalex.py
â”‚
â”œâ”€â”€ export/             # Export Layer
â”‚   â”œâ”€â”€ formats.py
â”‚   â””â”€â”€ links.py
â”‚
â””â”€â”€ client/             # High-Level Client
    â”œâ”€â”€ client.py       # PubMedClient
    â””â”€â”€ session.py      # SearchSession
```

---
*Last updated: 2025-01-XX*

# Active Context

> ğŸ“Œ æ­¤æª”æ¡ˆè¨˜éŒ„ç•¶å‰å·¥ä½œç„¦é»ï¼Œæ¯æ¬¡å·¥ä½œéšæ®µé–‹å§‹æ™‚æª¢è¦–ï¼ŒçµæŸæ™‚æ›´æ–°ã€‚

## ğŸ¯ ç•¶å‰ç„¦é»

<!-- ä¸€å¥è©±æè¿°æ­£åœ¨åšä»€éº¼ -->
- **æ¸¬è©¦èˆ‡ä»£ç¢¼å“è³ªæ”¹é€²** - HTTP Client é‡æ§‹ + å…¨é¢æ¸¬è©¦è·¯å¾‘ä¿®å¾©

## ğŸ“ é€²è¡Œä¸­çš„è®Šæ›´

<!-- å…·é«”çš„æª”æ¡ˆå’Œä¿®æ”¹ -->
| ç›®éŒ„/æª”æ¡ˆ | è®Šæ›´å…§å®¹ |
|----------|----------|
| `infrastructure/http/client.py` | é‡æ§‹ - æ–°å¢ exceptions + retry decorator |
| `shared/exceptions.py` | æ–°å¢ - ç•°å¸¸å±¤ç´šï¼ˆRateLimitError, NetworkError...ï¼‰ |
| `tests/*.py` | ä¿®å¾© - 40+ æ¸¬è©¦æª”æ¡ˆ DDD è·¯å¾‘æ›´æ–° |
| `__init__.py` | ä¿®æ”¹ - å°å‡º SearchResult, AggregationStats |

## âœ… å·²è§£æ±ºå•é¡Œ

<!-- æ ¹æœ¬åŸå› å’Œè§£æ±ºæ–¹æ¡ˆ -->
**ä¸ä¸€è‡´çš„éŒ¯èª¤è™•ç†**ï¼š
- å•é¡Œï¼š76 å€‹ `return None` vs 4 å€‹ `raise Exception`
- è§£æ±ºï¼šçµ±ä¸€ä½¿ç”¨ `shared.exceptions` ç•°å¸¸å±¤ç´š

**ç„¡ Retry æ©Ÿåˆ¶**ï¼š
- å•é¡Œï¼šç¶²è·¯éŒ¯èª¤ã€429 rate limit æ²’æœ‰é‡è©¦
- è§£æ±ºï¼šæ–°å¢ `@with_retry` decoratorï¼ˆæŒ‡æ•¸é€€é¿ï¼‰

**æ¸¬è©¦å°å…¥è·¯å¾‘éŒ¯èª¤**ï¼š
- å•é¡Œï¼šDDD é‡æ§‹å¾Œ 40+ æ¸¬è©¦æª”æ¡ˆè·¯å¾‘éæ™‚
- è§£æ±ºï¼šæ‰¹é‡ä¿®å¾© + SessionManager API æ›´æ–°

## ğŸ’¡ é—œéµç™¼ç¾

<!-- æœ¬æ¬¡å·¥ä½œéšæ®µçš„é‡è¦ç™¼ç¾ -->
- HTTP Client ä½¿ç”¨ `spec=PubMedClient` æœƒé™åˆ¶ mock å±¬æ€§ï¼ˆæ¸¬è©¦é™·é˜±ï¼‰
- `sed -i` æ‰¹é‡ä¿®å¾© 40+ æª”æ¡ˆæ¯”é€ä¸€æ‰‹å‹•ä¿®æ”¹é«˜æ•ˆ 100 å€
- SessionManager API å·²å¤§å¹…ç°¡åŒ–ï¼š`add_to_cache()` å–ä»£ `cache_articles()`
- æ¸¬è©¦çµæœï¼š**672 passed, 14 skipped** âœ…ï¼ˆä¿®å¾©å‰ï¼š322 passed, 121 failedï¼‰

## ğŸ“ æ–°å¢è³‡æ–™ä¾†æº

```text
æ•´åˆè³‡æ–™åº«ï¼ˆå…± 8 å€‹ï¼‰:
â”œâ”€â”€ PubMed (36M+)              # ä¸»è¦æœå°‹
â”œâ”€â”€ Europe PMC (45M+)          # å…¨æ–‡å­˜å–
â”œâ”€â”€ CORE (270M+)               # é–‹æ”¾å–ç”¨
â”œâ”€â”€ OpenAlex (250M+)           # å­¸è¡“å…ƒè³‡æ–™
â”œâ”€â”€ Semantic Scholar (215M+)   # AI å¢å¼·
â”œâ”€â”€ CrossRef (150M+)           # DOI å…ƒè³‡æ–™
â”œâ”€â”€ Unpaywall                  # OA é€£çµæŸ¥æ‰¾
â””â”€â”€ ClinicalTrials.gov         # ğŸ†• è‡¨åºŠè©¦é©—
```

## ğŸ”œ ä¸‹ä¸€æ­¥

<!-- æ¥ä¸‹ä¾†è¦åšä»€éº¼ -->
1. â³ PRISMA flow tracking (Phase 5.9)
2. â³ Evidence level classification (Oxford CEBM I-V)
3. â³ Token æ•ˆç‡å„ªåŒ– (Phase 5.8)

---
*Last updated: 2026-01-26 - HTTP Client é‡æ§‹ + æ¸¬è©¦ä¿®å¾©å®Œæˆ*
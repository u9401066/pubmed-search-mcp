# PubMed Search MCP â€” æ¼”ç®—æ³•å‰µæ–°å·®è·åˆ†æèˆ‡æå‡ç ”ç©¶

> **æ–‡ä»¶æ€§è³ª**: å…§éƒ¨ç ”ç©¶æ–‡ä»¶  
> **ç‹€æ…‹**: åˆç¨¿ v1.1  
> **ç›®çš„**: èª å¯¦è©•ä¼°ç¾æœ‰æ¼”ç®—æ³•æ·±åº¦ï¼Œè­˜åˆ¥å­¸è¡“å‰µæ–°æ©Ÿæœƒï¼Œè¦åŠƒæå‡è·¯ç·š  
> **å»ºç«‹æ—¥æœŸ**: 2026-02-12  
> **ç¶­è­·è€…**: Eric

---

## ğŸ“‹ ç›®éŒ„

1. [å‹•æ©Ÿèˆ‡èƒŒæ™¯](#1-å‹•æ©Ÿèˆ‡èƒŒæ™¯)
2. [æ ¹æœ¬ç—›é»ï¼šçµæœä¸å¯æ¶ˆåŒ– Ã— æœå°‹é–“ç„¡è¨˜æ†¶](#2-æ ¹æœ¬ç—›é»çµæœä¸å¯æ¶ˆåŒ–--æœå°‹é–“ç„¡è¨˜æ†¶)
3. [ç¾ç‹€èª å¯¦è©•ä¼°](#3-ç¾ç‹€èª å¯¦è©•ä¼°)
4. [å­¸è¡“å‰µæ–°æ©Ÿæœƒ](#4-å­¸è¡“å‰µæ–°æ©Ÿæœƒ)
5. [æœå°‹è©å·®ç•°åˆ†æï¼šæ¼”ç®—æ³•æ·±å…¥æ¢è¨](#5-æœå°‹è©å·®ç•°åˆ†ææ¼”ç®—æ³•æ·±å…¥æ¢è¨)
6. [å¯¦æ–½è·¯ç·šåœ–](#6-å¯¦æ–½è·¯ç·šåœ–)
7. [é©—è­‰æ–¹æ³•è«–](#7-é©—è­‰æ–¹æ³•è«–)
8. [ç›¸é—œæ–‡ç»](#8-ç›¸é—œæ–‡ç»)

---

## 1. å‹•æ©Ÿèˆ‡èƒŒæ™¯

### 1.1 æ ¸å¿ƒå•é¡Œ

> **ã€Œæˆ‘å€‘ç›®å‰é‚„æœ‰å“ªäº›æ˜¯å­¸è¡“å‰µæ–°ï¼Ÿåªæ˜¯åŒ…è£å¤šå€‹æœå°‹ API ä¸¦ä¸”è®“ Agent ä½¿ç”¨å°±ç®—ï¼Ÿæœå°‹æ–¹æ³•ä¹Ÿæ˜¯æ“´å……é—œéµå­— + é€šç”¨å­—è© â€” æœ‰æ¼”ç®—æ³•å¯ä»¥æ›´é«˜æ•ˆçš„æ‰¾å‡ºæœå°‹è©ä¹‹é–“çš„å·®ç•°ï¼Ÿã€**

é€™æ˜¯ä¸€å€‹å¿…é ˆèª å¯¦é¢å°çš„å•é¡Œã€‚æœ¬æ–‡ä»¶æ—¨åœ¨ï¼š

1. **å®¢è§€ç›¤é»**ç¾æœ‰ç³»çµ±ä¸­å“ªäº›çµ„ä»¶æœ‰æ¼”ç®—æ³•æ·±åº¦ã€å“ªäº›åªæ˜¯ API åŒ…è£
2. **è­˜åˆ¥å·®è·**èˆ‡å­¸è¡“æ°´æº–çš„è³‡è¨Šæª¢ç´¢ï¼ˆIRï¼‰ç ”ç©¶ä¹‹é–“çš„è·é›¢
3. **æå‡ºå…·é«”æ¼”ç®—æ³•**å¯ä»¥å¸¶ä¾†çœŸæ­£çš„å­¸è¡“å‰µæ–°
4. **èšç„¦æœå°‹è©å·®ç•°åˆ†æ**ä½œç‚ºä¸€å€‹è¢«å¿½è¦–ä½†é«˜åƒ¹å€¼çš„æ–¹å‘

### 1.2 ç«¶å“å°æ¯”ä¸­çš„å®šä½

| å·¥å…· | å¤šæºæ•´åˆ | æ¼”ç®—æ³•æ’åº | å¼•ç”¨åˆ†æ | æœå°‹è©åˆ†æ | æ™‚é–“è»¸ |
|------|:--------:|:---------:|:--------:|:---------:|:------:|
| paper-search-mcp (643â˜…) | âœ… 8æº | âŒ | âŒ | âŒ | âŒ |
| BioMCP (413â˜…) | âœ… 10æº | âŒ | âŒ | âŒ | âŒ |
| papersgpt-for-zotero (2kâ˜…) | âŒ | âœ… BM25 | âŒ | âŒ | âŒ |
| zotero-mcp (751â˜…) | âŒ | âœ… Embeddings | âŒ | âŒ | âŒ |
| **PubMed-Search-MCP** | âœ… 6æº | âš ï¸ term overlap | âš ï¸ BFS only | âŒ | âœ… |

**çµè«–**ï¼šæˆ‘å€‘åœ¨å¤šæºæ•´åˆå’Œæ™‚é–“è»¸ä¸Šé ˜å…ˆï¼Œä½†**æ’åºæ¼”ç®—æ³•å’Œå¼•ç”¨åˆ†ææ˜¯æ˜ç¢ºå¼±é»**ã€‚

---

## 2. æ ¹æœ¬ç—›é»ï¼šçµæœä¸å¯æ¶ˆåŒ– Ã— æœå°‹é–“ç„¡è¨˜æ†¶

> **ã€Œæœå°‹è¿”å›äº† 10,000 ç¯‡çµæœ â€” Agent ä¹Ÿä¸å¯èƒ½é¦¬ä¸Šè®€å®Œï¼›æ›ä¸€å€‹æœå°‹è©è¿”å› 5,000 ç¯‡ â€” Agent ä¹Ÿä¸çŸ¥é“å·®ç•°ã€‚æ‰€ä»¥æ¯æ¬¡çš„æœå°‹åªæ˜¯åœ¨ä¸åŒçš„å¤§æµ·ä¸­æ’ˆé‡ï¼ã€**

åœ¨è¨è«–æ¼”ç®—æ³•å‡ç´šä¹‹å‰ï¼Œå¿…é ˆå…ˆé¢å°ä¸€å€‹æ›´æ ¹æœ¬çš„å•é¡Œï¼š**å³ä½¿æ’åºåšåˆ°å®Œç¾ï¼ŒAgent ä¹Ÿç„¡æ³•æ¶ˆåŒ–å¤§é‡çµæœï¼Œè€Œå¤šè¼ªæœå°‹ä¹‹é–“æ²’æœ‰èªçŸ¥é€£çºŒæ€§**ã€‚é€™æ¯”ã€Œæ’åºä¸å¤ å¥½ã€æ›´æ ¹æœ¬ã€æ›´è‡´å‘½ã€‚

### 2.1 ç—›é»è§£å‰–ï¼šä¸‰å€‹å±¤æ¬¡çš„å•é¡Œ

#### ç—›é» 1ï¼šçµæœä¸å¯æ¶ˆåŒ–ï¼ˆInformation Overloadï¼‰

```
ç¾ç‹€çš„è’è¬¬ï¼š

æœå°‹ "remimazolam sedation" â†’ 10,247 ç¯‡
  â”œâ”€â”€ PubMed API è¿”å›å‰ 100 ç¯‡ PMID
  â”œâ”€â”€ æˆ‘å€‘ fetch å‰ 20 ç¯‡çš„ title + abstract
  â”œâ”€â”€ Agent çš„ context window èƒ½è£ ~10 ç¯‡å®Œæ•´ abstract
  â””â”€â”€ Agent å¯¦éš›ã€Œçœ‹åˆ°ã€çš„ï¼š10 / 10,247 = 0.097%

å•é¡Œï¼š
  â‘  99.9% çš„æœå°‹çµæœæ˜¯ã€Œä¸å­˜åœ¨ã€çš„ â€” Agent å®Œå…¨ä¸çŸ¥é“å®ƒå€‘
  â‘¡ å‰ 10 ç¯‡ä¸ä¸€å®šæ˜¯ã€Œæœ€è©²çœ‹çš„ã€ â€” PubMed çš„ relevance æ˜¯å…¨åŸŸæ’åï¼Œä¸é‡å°ä½ çš„ç ”ç©¶å•é¡Œ
  â‘¢ 10 ç¯‡çš„ title + abstract ä¹Ÿæ˜¯ç·šæ€§åˆ—è¡¨ â€” Agent æ²’æœ‰å…¨å±€æ¦‚è¦½
  â‘£ Agent ç„¡æ³•å›ç­”ã€Œé€™å€‹é ˜åŸŸå¤§æ¦‚åœ¨ç ”ç©¶ä»€éº¼ï¼Ÿã€åªèƒ½å›ç­”ã€Œé€™ 10 ç¯‡åœ¨ç ”ç©¶ä»€éº¼ã€
```

**é‡åŒ–å•é¡Œçš„åš´é‡åº¦**ï¼š

| æœå°‹çµæœé‡ | Agent å¯¦éš›çœ‹åˆ° | è¦†è“‹ç‡ | éºæ¼é¢¨éšª |
|:----------:|:--------------:|:------:|:--------:|
| 100 ç¯‡ | 10 ç¯‡ | 10% | ä¸­ |
| 1,000 ç¯‡ | 10 ç¯‡ | 1% | é«˜ |
| 10,000 ç¯‡ | 10 ç¯‡ | 0.1% | æ¥µé«˜ |
| 100,000 ç¯‡ | 10 ç¯‡ | 0.01% | è¿‘ä¹éš¨æ©Ÿ |

ç•¶çµæœè¶…é 1,000 ç¯‡æ™‚ï¼ŒAgent å±•ç¤ºçµ¦ç”¨æˆ¶çš„ 10 ç¯‡æœ¬è³ªä¸Šæ˜¯**ä¸€å€‹æœªç¶“é©—è­‰çš„æŠ½æ¨£**ï¼Œè€Œéæœ‰æ„ç¾©çš„ç²¾é¸ã€‚

#### ç—›é» 2ï¼šæœå°‹é–“ç„¡èªçŸ¥é€£çºŒæ€§ï¼ˆNo Cross-Search Memoryï¼‰

```
å ´æ™¯ï¼šç ”ç©¶è€…é€²è¡Œ 3 è¼ªæœå°‹

ç¬¬ 1 è¼ª: "remimazolam sedation"          â†’ 10,247 ç¯‡ â†’ Agent çœ‹ 10 ç¯‡
ç¬¬ 2 è¼ª: "CNS 7056 ICU"                  â†’  5,123 ç¯‡ â†’ Agent çœ‹ 10 ç¯‡
ç¬¬ 3 è¼ª: "remimazolam vs propofol safety" â†’  3,456 ç¯‡ â†’ Agent çœ‹ 10 ç¯‡

å•é¡Œï¼š
  â‘  ç¬¬ 2 è¼ªçš„ 10 ç¯‡ä¸­ï¼Œå¯èƒ½æœ‰ 6 ç¯‡ç¬¬ 1 è¼ªå·²ç¶“çœ‹é â†’ æµªè²» 60% çš„ context
  â‘¡ ç¬¬ 1 è¼ªæœ‰ 10,247 ç¯‡ã€ç¬¬ 2 è¼ªæœ‰ 5,123 ç¯‡ï¼Œé‡ç–Šå¤šå°‘ï¼Ÿâ€” ä¸çŸ¥é“
  â‘¢ ç¬¬ 2 è¼ªæ‰¾åˆ°äº†ä»€éº¼ã€Œæ–°çš„ã€ï¼Ÿâ€” ä¸çŸ¥é“
  â‘£ ä¸‰è¼ªæœå°‹åŠ èµ·ä¾†è¦†è“‹äº†å¤šå°‘ç¨ç«‹æ–‡ç« ï¼Ÿâ€” ä¸çŸ¥é“
  â‘¤ é‚„æœ‰å“ªäº›é¢å‘æ²’æœåˆ°ï¼Ÿâ€” å®Œå…¨ä¸çŸ¥é“
```

**ç¾æœ‰ Session ç³»çµ±çš„ä¸è¶³**ï¼š

ç›®å‰çš„ `SessionManager`ï¼ˆ`application/session/manager.py`ï¼‰å„²å­˜äº†ï¼š

| æœ‰å­˜ | æ²’å­˜ |
|------|------|
| âœ… æœå°‹æ­·å²ï¼ˆquery + PMIDsï¼‰ | âŒ è·¨æœå°‹ PMID é‡ç–Šåˆ†æ |
| âœ… æ–‡ç« å¿«å–ï¼ˆé¿å…é‡è¤‡ API å‘¼å«ï¼‰ | âŒ æœå°‹çµæœçš„ä¸»é¡Œåˆ†å¸ƒ |
| âœ… é–±è®€æ¸…å–® | âŒ ç´¯ç©è¦†è“‹ç‡è¿½è¹¤ |
| âœ… æ’é™¤çš„ PMID | âŒ æœå°‹ç­–ç•¥å·®ç•°å ±å‘Š |
| | âŒ ã€Œé‚„æœ‰ä»€éº¼æ²’æœéã€çš„ç¼ºå£åˆ†æ |

Session çš„å®šä½æ˜¯ã€Œé¿å…é‡è¤‡ API å‘¼å«ã€ï¼Œè€Œéã€Œè·¨æœå°‹èªçŸ¥æ•´åˆã€ã€‚å®ƒè¨˜ä½äº†ã€Œæ‰¾éä»€éº¼ã€ï¼Œä½†ä¸åˆ†æã€Œæ‰¾åˆ°çš„æ±è¥¿ä¹‹é–“æœ‰ä»€éº¼é—œä¿‚ã€ã€‚

#### ç—›é» 3ï¼šæ’åºèˆ‡ç ”ç©¶å•é¡Œè„«ç¯€ï¼ˆRelevance â‰  Usefulnessï¼‰

```
PubMed çš„ "relevance" æ’åºï¼š
  - åŸºæ–¼ query-document æ–‡å­—åŒ¹é…ï¼ˆTF-IDF è®Šé«”ï¼‰
  - å…¨åŸŸæ’å â€” å°æ‰€æœ‰äººã€æ‰€æœ‰å•é¡Œéƒ½ä¸€æ¨£
  - ä¸è€ƒæ…®ï¼šä½ çš„ç ”ç©¶éšæ®µã€å·²è®€æ–‡ç« ã€ç ”ç©¶å‡è¨­

æˆ‘å€‘çš„å…­ç¶­æ’åºï¼š
  - åŠ å…¥äº† qualityã€recencyã€impactã€source_trustã€entity_match
  - ä½† relevance ç¶­åº¦ä¾èˆŠç”¨ term overlapï¼ˆå’Œ PubMed æœ¬è³ªç›¸åŒï¼‰
  - æ’åºçµæœä»æ˜¯ä¸€å€‹ç·šæ€§åˆ—è¡¨ â€” æ²’æœ‰çµæ§‹ã€æ²’æœ‰åˆ†ç¾¤

æ ¹æœ¬å•é¡Œï¼š
  "æ’åº" å‡è¨­ç”¨æˆ¶è¦çœ‹ä¸€å€‹æœ‰åºåˆ—è¡¨
  ä½†ç”¨æˆ¶çœŸæ­£éœ€è¦çš„æ˜¯ "ç†è§£é€™å€‹é ˜åŸŸçš„çµæ§‹"

  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
  â•‘  åˆ—è¡¨æ€ç¶­ï¼š                                                  â•‘
  â•‘    1. Paper A (score: 0.95)                                  â•‘
  â•‘    2. Paper B (score: 0.93)  â† é€™å’Œ A ç ”ç©¶åŒä¸€å€‹å­ä¸»é¡Œ       â•‘
  â•‘    3. Paper C (score: 0.91)  â† é€™ä¹Ÿæ˜¯                        â•‘
  â•‘    4. Paper D (score: 0.89)  â† é€™è¨è«–å®Œå…¨ä¸åŒçš„é¢å‘ï¼Œæ›´æœ‰åƒ¹å€¼ â•‘
  â•‘                                                              â•‘
  â•‘  çµæ§‹æ€ç¶­ï¼š                                                  â•‘
  â•‘    Cluster 1ï¼ˆç¨‹åºæ€§é®éœï¼‰ï¼šA, B, C â†’ ä»£è¡¨ä½œï¼šA              â•‘
  â•‘    Cluster 2ï¼ˆICU é•·æœŸé®éœï¼‰ï¼šD, E â†’ ä»£è¡¨ä½œï¼šD               â•‘
  â•‘    Cluster 3ï¼ˆå®‰å…¨æ€§æ¯”è¼ƒï¼‰ï¼šF, G, H â†’ ä»£è¡¨ä½œï¼šF              â•‘
  â•‘    â†’ Agent çœ‹ 3 ç¯‡ä»£è¡¨ä½œå°±è¦†è“‹ 3 å€‹é¢å‘ï¼ˆvs çœ‹å‰ 3 ååªè¦†è“‹ 1 å€‹ï¼‰â•‘
  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### 2.2 å•é¡Œçš„å­¸è¡“å®šä½

é€™ä¸‰å€‹ç—›é»å°æ‡‰è³‡è¨Šç§‘å­¸çš„ä¸‰å€‹å·²çŸ¥å•é¡Œï¼š

| ç—›é» | å­¸è¡“é ˜åŸŸ | ç¶“å…¸å•é¡Œåç¨± | å·²æœ‰æ–¹æ¡ˆ |
|------|---------|-------------|----------|
| çµæœä¸å¯æ¶ˆåŒ– | Information Retrieval | **Result Diversification** | MMR (Carbonell & Goldstein, 1998)ã€xQuAD (Santos et al., 2010) |
| æœå°‹é–“ç„¡è¨˜æ†¶ | Interactive IR | **Session Search** | TREC Session Track (2010-2014) |
| æ’åºèˆ‡å•é¡Œè„«ç¯€ | Personalized IR | **Task-based Retrieval** | TREC Tasks Track (2015-2017) |

é‡è¦ç™¼ç¾ï¼š**é€™ä¸‰å€‹å•é¡Œåœ¨å‚³çµ± IR ä¸­å·²æœ‰ç ”ç©¶ï¼Œä½†åœ¨ MCP/Agent å·¥å…·ç”Ÿæ…‹ä¸­å®Œå…¨æ²’æœ‰è¢«å¯¦ä½œ**ã€‚é€™æ˜¯çœŸæ­£çš„å‰µæ–°ç©ºé–“ã€‚

### 2.3 è§£æ³•æ¡†æ¶ï¼šå¾ã€Œåˆ—è¡¨è¿”å›ã€åˆ°ã€ŒçŸ¥è­˜æ‘˜è¦ã€

æ ¸å¿ƒæ€è·¯è½‰è®Šï¼š

```
ç•¶å‰æ¨¡å¼ï¼ˆList-orientedï¼‰ï¼š
  Query â†’ API â†’ 10,000 results â†’ å–å‰ 10 â†’ ä¸Ÿçµ¦ Agent â†’ Agent åªçŸ¥é“ 10 ç¯‡

ç›®æ¨™æ¨¡å¼ï¼ˆKnowledge-orientedï¼‰ï¼š
  Query â†’ API â†’ 10,000 results â†’ MCP é è™•ç† â†’ çµæ§‹åŒ–çŸ¥è­˜åŒ… â†’ Agent ç²å¾—å…¨å±€è¦–é‡
```

#### è§£æ³• 1ï¼šResult Digestï¼ˆçµæœæ‘˜è¦ï¼‰

æŠŠ 10,000 ç¯‡å£“ç¸®æˆ Agent èƒ½æ¶ˆåŒ–çš„**çµæ§‹åŒ–çŸ¥è­˜åŒ…**ï¼š

```json
{
  "query": "remimazolam sedation",
  "total_results": 10247,

  "topic_clusters": [
    {
      "label": "ç¨‹åºæ€§é®éœï¼ˆProcedural Sedationï¼‰",
      "count": 3200,
      "representative_pmids": ["PMID:111", "PMID:222"],
      "top_mesh_terms": ["Conscious Sedation", "Colonoscopy", "Endoscopy"],
      "year_range": "2017-2026",
      "trend": "growing"
    },
    {
      "label": "ICU é•·æœŸé®éœ",
      "count": 2100,
      "representative_pmids": ["PMID:333"],
      "top_mesh_terms": ["Intensive Care Units", "Respiration, Artificial"],
      "year_range": "2020-2026",
      "trend": "rapidly_growing"
    },
    {
      "label": "è—¥ç‰©å‹•åŠ›å­¸/è—¥ç†æ©Ÿåˆ¶",
      "count": 1800,
      "representative_pmids": ["PMID:444"],
      "top_mesh_terms": ["GABA Modulators", "Pharmacokinetics"],
      "year_range": "2014-2023",
      "trend": "stable"
    }
  ],

  "must_read": [
    {"pmid": "PMID:555", "reason": "æœ€é«˜ RCR (8.2) çš„ Meta-analysis", "rcr": 8.2},
    {"pmid": "PMID:666", "reason": "æœ€å¤šå¼•ç”¨çš„ Phase III RCT", "citations": 450},
    {"pmid": "PMID:777", "reason": "æœ€è¿‘(2025)çš„ Systematic Review", "year": 2025}
  ],

  "temporal_trend": {
    "first_publication": 2014,
    "peak_year": 2023,
    "current_trend": "plateau",
    "annual_counts": {"2014": 3, "2015": 8, "...": "...", "2025": 890, "2026": 124}
  },

  "evidence_pyramid": {
    "meta_analyses": 45,
    "systematic_reviews": 120,
    "rcts": 230,
    "observational": 3500,
    "case_reports": 2100,
    "other": 4252
  }
}
```

**æŠ€è¡“æ–¹æ¡ˆ**ï¼šMeSH term å…±ç¾çŸ©é™£ â†’ åˆ†ç¾¤ï¼ˆk-means æˆ– hierarchical clusteringï¼‰â†’ æ¯ç¾¤å– iCite RCR æœ€é«˜çš„ä½œç‚ºä»£è¡¨

**ä¸éœ€è¦ ML æ¨¡å‹**ï¼šMeSH terms å·²ç¶“æ˜¯æ¨™æº–åŒ–åˆ†é¡ï¼Œå¯ä»¥ç›´æ¥ç”¨æ–¼åˆ†ç¾¤ã€‚

#### è§£æ³• 2ï¼šSearch Deltaï¼ˆæœå°‹å¢é‡å ±å‘Šï¼‰

æ¯æ¬¡æ–°æœå°‹æ™‚ï¼Œè‡ªå‹•èˆ‡ Session ä¸­æ‰€æœ‰å…ˆå‰æœå°‹åšæ¯”è¼ƒï¼š

```
ç¬¬ 2 æ¬¡æœå°‹ "CNS 7056 ICU" å®Œæˆå¾Œè‡ªå‹•ç”¢ç”Ÿï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”„ Search Delta Report                                 â”‚
â”‚  æœå°‹ #2 vs ç´¯ç©çµæœ                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  ğŸ“Š é›†åˆåˆ†æï¼š                                           â”‚
â”‚  â”œâ”€â”€ æœå°‹ #2 çµæœ: 5,123 ç¯‡                              â”‚
â”‚  â”œâ”€â”€ èˆ‡æœå°‹ #1 é‡ç–Š: 2,847 ç¯‡ (55.6%)                    â”‚
â”‚  â”œâ”€â”€ æœå°‹ #2 æ–°ç™¼ç¾: 2,276 ç¯‡ â† çœŸæ­£çš„å¢é‡åƒ¹å€¼           â”‚
â”‚  â””â”€â”€ ç´¯ç©ç¨ç«‹æ–‡ç« : 12,523 ç¯‡ (10,247 + 2,276)            â”‚
â”‚                                                          â”‚
â”‚  ğŸ†• æ–°ç™¼ç¾çš„ä¸»é¡Œåˆ†å¸ƒ (2,276 ç¯‡)ï¼š                        â”‚
â”‚  â”œâ”€â”€ æ—©æœŸè‡¨åºŠå‰ç ”ç©¶ (CNS 7056 å‘½åæ™‚æœŸ): 812 ç¯‡           â”‚
â”‚  â”‚   â””â”€â”€ ä»£è¡¨: PMID:888 "CNS 7056: a novel..." (2014)    â”‚
â”‚  â”œâ”€â”€ æ—¥æœ¬å¸‚å ´è‡¨åºŠæ•¸æ“š: 623 ç¯‡                             â”‚
â”‚  â”‚   â””â”€â”€ ä»£è¡¨: PMID:999 "Remimazolam in Japanese..."      â”‚
â”‚  â””â”€â”€ ICU å°ˆç§‘ç‰¹ç•°æ–‡ç»: 841 ç¯‡                             â”‚
â”‚      â””â”€â”€ ä»£è¡¨: PMID:101 "Prolonged sedation with..."      â”‚
â”‚                                                          â”‚
â”‚  âš ï¸ è¦†è“‹ç¼ºå£ï¼ˆå°šæœªæœåˆ°çš„é¢å‘ï¼‰ï¼š                         â”‚
â”‚  â”œâ”€â”€ å°å…’ç§‘ä½¿ç”¨ (å»ºè­°æœå°‹: "remimazolam pediatric")       â”‚
â”‚  â”œâ”€â”€ è‚è…åŠŸèƒ½ä¸å…¨ (å»ºè­°: "remimazolam hepatic impairment")â”‚
â”‚  â””â”€â”€ èˆ‡å…¶ä»– benzodiazepines æ¯”è¼ƒ (å»ºè­°: "remimazolam vs   â”‚
â”‚      midazolam")                                         â”‚
â”‚                                                          â”‚
â”‚  ğŸ’¡ å»ºè­°ï¼š                                               â”‚
â”‚  æœå°‹ #2 ä¸»è¦è£œå……äº†ã€Œæ—©æœŸç ”ç©¶ã€å’Œã€Œæ—¥æœ¬æ•¸æ“šã€ã€‚            â”‚
â”‚  å¦‚æœç ”ç©¶é‡é»æ˜¯ ICU é®éœï¼Œå»ºè­°ä¸‹ä¸€è¼ªæœå°‹èšç„¦             â”‚
â”‚  ã€Œè‚è…åŠŸèƒ½ä¸å…¨æ‚£è€…ã€å’Œã€Œé•·æœŸé®éœå®‰å…¨æ€§ã€ã€‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æŠ€è¡“æ–¹æ¡ˆ**ï¼š

```python
# SessionManager æ“´å±•
class SearchDeltaAnalyzer:
    """åˆ†æå¤šè¼ªæœå°‹ä¹‹é–“çš„å¢é‡å·®ç•°"""

    def analyze_delta(
        self,
        new_pmids: set[str],
        session: ResearchSession,
    ) -> SearchDeltaReport:
        # 1. é›†åˆé‹ç®—
        all_previous = set()
        for record in session.search_history:
            all_previous.update(record['pmids'])

        overlap = new_pmids & all_previous
        new_only = new_pmids - all_previous
        cumulative = all_previous | new_pmids

        # 2. æ–°ç™¼ç¾çš„ MeSH åˆ†å¸ƒ
        new_mesh_distribution = self._analyze_mesh_distribution(new_only)

        # 3. è¦†è“‹ç¼ºå£æ¨æ¸¬
        #    - å¾ MeSH tree ä¸­æ‰¾ã€Œç›¸é„°ä½†æœªè¦†è“‹çš„å­æ¨¹ã€
        gaps = self._detect_coverage_gaps(cumulative)

        return SearchDeltaReport(
            new_count=len(new_only),
            overlap_count=len(overlap),
            overlap_rate=len(overlap) / len(new_pmids),
            cumulative_total=len(cumulative),
            new_topic_distribution=new_mesh_distribution,
            coverage_gaps=gaps,
        )
```

#### è§£æ³• 3ï¼šSmart Top-Kï¼ˆå¤šæ¨£æ€§é¸å–ï¼‰

å–ä»£ã€ŒæŒ‰åˆ†æ•¸å–å‰ Kã€çš„ç·šæ€§é¸å–ï¼Œæ”¹ç”¨**åˆ†ç¾¤å¾Œæ¯ç¾¤å–ä»£è¡¨**ï¼š

```
å‚³çµ± Top-10ï¼ˆåŒè³ªåŒ–å•é¡Œï¼‰ï¼š
  1. RCT:  remimazolam ç¨‹åºæ€§é®éœ (score: 0.95)   â† Cluster 1
  2. RCT:  remimazolam çµè…¸é¡é®éœ (score: 0.93)   â† Cluster 1
  3. RCT:  remimazolam å…§è¦–é¡é®éœ (score: 0.91)   â† Cluster 1
  4. Meta:  remimazolam ç¨‹åºæ€§é®éœ (score: 0.90)   â† Cluster 1
  5. RCT:  remimazolam æ”¯æ°£ç®¡é¡ (score: 0.88)      â† Cluster 1
  ...å‰ 5 åå…¨æ˜¯ã€Œç¨‹åºæ€§é®éœã€ï¼å…¶ä»–é¢å‘å®Œå…¨ç¼ºå¤±ã€‚

Smart Top-10ï¼ˆå¤šæ¨£æ€§ä¿è­‰ï¼‰ï¼š
  Cluster 1 (ç¨‹åºæ€§é®éœ, 3200ç¯‡):
    1. PMID:AAA - Meta-analysis (æœ€é«˜ RCR)
    2. PMID:BBB - æœ€æ–° RCT (2025)
  Cluster 2 (ICU é®éœ, 2100ç¯‡):
    3. PMID:CCC - Phase III (æœ€é«˜å¼•ç”¨)
    4. PMID:DDD - å®‰å…¨æ€§åˆ†æ
  Cluster 3 (è—¥ç†æ©Ÿåˆ¶, 1800ç¯‡):
    5. PMID:EEE - æ©Ÿåˆ¶ç¶œè¿°
  Cluster 4 (å®‰å…¨æ€§, 1500ç¯‡):
    6. PMID:FFF - ä¸è‰¯äº‹ä»¶è–ˆèƒ
  Cluster 5 (è—¥ç‰©æ¯”è¼ƒ, 1647ç¯‡):
    7. PMID:GGG - vs propofol meta-analysis
    8. PMID:HHH - vs midazolam RCT
  é¡å¤–ï¼ˆè·¨ç¾¤é«˜å½±éŸ¿åŠ›ï¼‰ï¼š
    9. PMID:III  - ç³»çµ±æ€§å›é¡§ (RCR=8.2)
    10. PMID:JJJ - FDA å¯©æŸ¥æ–‡ä»¶
  â†’ Agent çœ‹ 10 ç¯‡å°±è¦†è“‹ 5 å€‹é¢å‘ï¼
```

**æŠ€è¡“æ–¹æ¡ˆ**ï¼š**Maximal Marginal Relevance (MMR)**ï¼ˆCarbonell & Goldstein, 1998ï¼‰

$$\text{MMR} = \arg\max_{d_i \in R \setminus S} \Big[ \lambda \cdot \text{Sim}(d_i, q) - (1-\lambda) \cdot \max_{d_j \in S} \text{Sim}(d_i, d_j) \Big]$$

å…¶ä¸­ï¼š
- $R$ = å€™é¸æ–‡ä»¶é›†åˆï¼ˆæœå°‹çµæœï¼‰
- $S$ = å·²é¸æ–‡ä»¶é›†åˆï¼ˆç›®å‰çš„ top-Kï¼‰
- $\lambda$ = relevance å’Œ diversity çš„å¹³è¡¡åƒæ•¸ï¼ˆ0.5-0.7ï¼‰
- $\text{Sim}(d_i, q)$ = æ–‡ä»¶èˆ‡æŸ¥è©¢çš„ç›¸é—œæ€§
- $\text{Sim}(d_i, d_j)$ = æ–‡ä»¶ä¹‹é–“çš„ç›¸ä¼¼åº¦

æ¯æ¬¡é¸ä¸€ç¯‡**æ—¢èˆ‡æŸ¥è©¢ç›¸é—œã€åˆèˆ‡å·²é¸æ–‡ä»¶ä¸åŒ**çš„æ–‡ç« ï¼Œè‡ªç„¶ä¿è­‰äº†å¤šæ¨£æ€§ã€‚

åœ¨ç”Ÿé†«é ˜åŸŸï¼Œ$\text{Sim}(d_i, d_j)$ å¯ä»¥ç”¨ **MeSH term å…±ç¾** ä¾†è¨ˆç®—ï¼ˆä¸éœ€è¦åµŒå…¥æ¨¡å‹ï¼‰ï¼š

```python
def mesh_similarity(article_a, article_b) -> float:
    """åŸºæ–¼ MeSH terms çš„æ–‡ç« ç›¸ä¼¼åº¦"""
    mesh_a = set(article_a.mesh_terms)
    mesh_b = set(article_b.mesh_terms)
    if not mesh_a or not mesh_b:
        return 0.0
    return len(mesh_a & mesh_b) / len(mesh_a | mesh_b)  # Jaccard
```

#### è§£æ³• 4ï¼šCumulative Coverage Trackerï¼ˆç´¯ç©è¦†è“‹ç‡è¿½è¹¤ï¼‰

å›ç­”ã€Œæœå…¨äº†æ²’ï¼Ÿã€é€™å€‹é—œéµå•é¡Œã€‚

```
æœå°‹é€²åº¦å„€è¡¨æ¿ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ˆ Research Coverage Dashboard                          â”‚
â”‚  ä¸»é¡Œ: remimazolam                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  ç´¯ç©æœå°‹: 3 æ¬¡ | ç´¯ç©ç¨ç«‹æ–‡ç« : 14,789 ç¯‡                â”‚
â”‚                                                          â”‚
â”‚  MeSH å­æ¨¹è¦†è“‹ç‡:                                        â”‚
â”‚  â”œâ”€â”€ D03.383.129 (Benzodiazepines)     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 95%  â”‚
â”‚  â”œâ”€â”€ E01.370.225 (Conscious Sedation)  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 72%  â”‚
â”‚  â”œâ”€â”€ E03.155.197 (Critical Care)       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 55%  â”‚
â”‚  â”œâ”€â”€ C23.888.592 (Drug-Related Effects)â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 38%  â”‚
â”‚  â””â”€â”€ E05.318.308 (Clinical Trials)     â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 28%  â”‚
â”‚                                                          â”‚
â”‚  âš ï¸ ä½è¦†è“‹é¢å‘:                                         â”‚
â”‚  â”œâ”€â”€ N05.300 (Health Services)              â–‘â–‘â–‘â–‘â–‘â–‘ 5%    â”‚
â”‚  â”œâ”€â”€ F02.463.425 (Learning/Memory)          â–‘â–‘â–‘â–‘â–‘â–‘ 3%    â”‚
â”‚  â””â”€â”€ G07.690.773 (Pharmacokinetics, ç‰¹æ®Šæ—ç¾¤)â–‘â–‘â–‘â–‘â–‘ 2%    â”‚
â”‚                                                          â”‚
â”‚  å»ºè­°ä¸‹ä¸€æ­¥æœå°‹:                                         â”‚
â”‚  "remimazolam pharmacokinetics special populations"       â”‚
â”‚  "remimazolam cognitive outcomes"                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æŠ€è¡“æ–¹æ¡ˆ**ï¼š

1. å–å¾—æœå°‹ä¸»é¡Œåœ¨ MeSH æ¨¹ä¸­çš„**ç›¸é—œå­æ¨¹**ï¼ˆä¾‹å¦‚ "remimazolam" çš„ MeSH é„°åŸŸï¼‰
2. è¿½è¹¤ç´¯ç©æœå°‹çµæœè¦†è“‹äº†å“ªäº› MeSH terms
3. è¨ˆç®—æ¯å€‹å­æ¨¹çš„è¦†è“‹ç‡ = å·²æ‰¾åˆ°çš„æ–‡ç« å«æ­¤ MeSH / è©² MeSH ä¸‹çš„å·²çŸ¥æ–‡ç« ç¸½æ•¸
4. ä½è¦†è“‹çš„å­æ¨¹ â†’ è‡ªå‹•å»ºè­°æœå°‹ç­–ç•¥

### 2.4 å››å€‹è§£æ³•çš„æ¯”è¼ƒèˆ‡å„ªå…ˆç´š

| è§£æ³• | è§£æ±ºç—›é» | æŠ€è¡“é›£åº¦ | ä¾è³´ | Agent åƒ¹å€¼ | è«–æ–‡æ½›åŠ› | å„ªå…ˆç´š |
|------|---------|:--------:|------|:----------:|:--------:|:------:|
| **Search Delta** | æœå°‹é–“ç„¡è¨˜æ†¶ | â­ ä½ | Session ç³»çµ±å·²æœ‰åŸºç¤ | â­â­â­â­â­ | â­â­â­ | ğŸ¥‡ ç¬¬ä¸€ |
| **Smart Top-K (MMR)** | çµæœåŒè³ªåŒ– | â­â­ ä½-ä¸­ | MeSH terms å·²æœ‰ | â­â­â­â­â­ | â­â­â­â­ | ğŸ¥ˆ ç¬¬äºŒ |
| **Result Digest** | çµæœä¸å¯æ¶ˆåŒ– | â­â­â­ ä¸­ | MeSH åˆ†ç¾¤ + iCite | â­â­â­â­â­ | â­â­â­â­ | ğŸ¥‰ ç¬¬ä¸‰ |
| **Coverage Tracker** | ä¸çŸ¥æœå…¨æ²’ | â­â­â­â­ ä¸­-é«˜ | MeSH æ¨¹çµæ§‹ + çµ±è¨ˆ | â­â­â­â­ | â­â­â­â­â­ | ç¬¬å›› |

**æ¨è–¦è·¯ç·š**ï¼šSearch Delta â†’ Smart Top-K â†’ Result Digest â†’ Coverage Tracker

ç†ç”±ï¼š
- **Search Delta** æŠ•å…¥æœ€å°‘ï¼ˆSession å·²å­˜ PMIDï¼‰ã€æ•ˆæœæœ€ç›´æ¥ï¼ˆAgent ç«‹å³çŸ¥é“ã€Œæ–°ç™¼ç¾äº†ä»€éº¼ã€ï¼‰
- **Smart Top-K (MMR)** æ”¹å–„æœ€æ˜é¡¯çš„ç—›é»ï¼ˆå‰ 10 ç¯‡ä¸å†æ˜¯åŒé¡æ–‡ç« çš„é‡è¤‡ï¼‰
- **Result Digest** éœ€è¦å¯¦ä½œ MeSH åˆ†ç¾¤ï¼Œä½†æä¾›ã€Œå…¨å±€è¦–é‡ã€
- **Coverage Tracker** æœ€æœ‰å­¸è¡“æ·±åº¦ï¼Œä½†éœ€è¦ MeSH æ¨¹çµæ§‹å’Œçµ±è¨ˆæ¨¡å‹

### 2.5 é€™äº›è§£æ³•èˆ‡ Â§4-Â§6 æ¼”ç®—æ³•çš„é—œä¿‚

ç—›é»åˆ†æï¼ˆæœ¬ç¯€ï¼‰å’Œæ¼”ç®—æ³•å‰µæ–°ï¼ˆÂ§4-Â§6ï¼‰æ˜¯**äº’è£œçš„å…©å€‹ç¶­åº¦**ï¼š

```
                    æ¼”ç®—æ³•æ·±åº¦
                       â†‘
        Â§4 BM25+RRF    â”‚    Â§4 Citation Burst
        Â§4 PRF         â”‚    Â§4 Main Path
                       â”‚
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ æ¶æ§‹å‰µæ–°
                       â”‚
        ç¾ç‹€           â”‚    Â§2 Search Delta
        (term overlap, â”‚    Â§2 Smart Top-K (MMR)
         ç·šæ€§ top-10)  â”‚    Â§2 Result Digest
                       â”‚    Â§2 Coverage Tracker

  å·¦ä¸‹è§’ = ç¾ç‹€ï¼ˆæ·ºæ¼”ç®—æ³• + ç·šæ€§åˆ—è¡¨ï¼‰
  å³ä¸‹è§’ = æ¶æ§‹å‰µæ–°ï¼ˆæ”¹è®Šçµæœå‘ˆç¾æ–¹å¼ï¼Œä½†æ¼”ç®—æ³•ç°¡å–®ï¼‰â† æœ¬ç¯€
  å·¦ä¸Šè§’ = æ¼”ç®—æ³•å‡ç´šï¼ˆBM25 ç­‰ï¼Œä½†ä»è¿”å›åˆ—è¡¨ï¼‰â† Â§4-Â§6
  å³ä¸Šè§’ = çµ‚æ¥µç›®æ¨™ï¼ˆBM25 æ’åº + MMR å¤šæ¨£æ€§ + åˆ†ç¾¤æ‘˜è¦ + å¢é‡åˆ†æï¼‰
```

**é—œéµæ´å¯Ÿ**ï¼šåªåšæ¼”ç®—æ³•å‡ç´šï¼ˆÂ§4-Â§6ï¼‰è€Œä¸æ”¹çµæœå‘ˆç¾æ–¹å¼ï¼ŒAgent ä»ç„¶åªçœ‹åˆ° 10 ç¯‡åˆ—è¡¨ã€‚åªæ”¹å‘ˆç¾æ–¹å¼è€Œä¸å‡ç´šæ¼”ç®—æ³•ï¼Œåˆ†ç¾¤å’Œæ’åºå“è³ªä¸å¤ å¥½ã€‚**å…©è€…å¿…é ˆåŒæ™‚æ¨é€²**ã€‚

### 2.6 å°è«–æ–‡å®šä½çš„å½±éŸ¿

é€™å€‹ç—›é»åˆ†æå¯ä»¥æˆç‚ºè«–æ–‡ï¼ˆ`paper-draft.md`ï¼‰çš„**å¦ä¸€å€‹æ ¸å¿ƒè²¢ç»**ï¼š

| åŸæœ‰è²¢ç» | æœ¬ç¯€æ–°å¢è²¢ç» |
|---------|-------------|
| Research Timeline Construction | **Agent-Digestible Result Summarization** |
| Milestone Detection | **Cross-Search Delta Analysis** |
| Multi-Source Integration | **Diversity-Aware Top-K Selection (MMR)** |
| | **Cumulative Coverage Tracking** |

è«–æ–‡è§’åº¦å¯ä»¥é‡æ–°å®šç¾©ç‚ºï¼š

> *ã€Œå¾ List-based Retrieval åˆ° Knowledge-oriented Retrievalï¼šä¸€å€‹ä»¥ AI Agent ç‚ºä¸­å¿ƒçš„æ–‡ç»æª¢ç´¢æ–°ç¯„å¼ã€*

é€™æ¯”ã€Œå¤šæºæ•´åˆ + æ™‚é–“è»¸ã€æ›´æœ‰å­¸è¡“æ·±åº¦ï¼Œå› ç‚ºå®ƒæŒ‘æˆ°äº†å‚³çµ± IR çš„ã€Œè¿”å›æ’åºåˆ—è¡¨ã€å‡è¨­ã€‚

---

## 3. ç¾ç‹€èª å¯¦è©•ä¼°

### 2.1 æœ‰æ¼”ç®—æ³•åƒ¹å€¼çš„çµ„ä»¶

#### 2.1.1 Union-Find å»é‡ï¼ˆâ­â­â­ æœ€ä½³æ¼”ç®—æ³•é¸æ“‡ï¼‰

**ä½ç½®**: `application/search/result_aggregator.py`

```
ä¸‰é€šé“åŒ¹é…: DOI â†’ PMID â†’ æ¨™é¡Œæ­£è¦åŒ–
è¤‡é›œåº¦: O(nÂ·Î±(n)) â‰ˆ O(n)ï¼Œæ¯”æš´åŠ› O(nÂ²) å¤§å¹…æ”¹å–„
ç­–ç•¥: STRICT / MODERATE / AGGRESSIVE ä¸‰ç´šå¯èª¿
åˆä½µ: åŸºæ–¼ identifier æ•¸é‡ + å…ƒè³‡æ–™å®Œæ•´åº¦ + ä¾†æºä¿¡ä»»åº¦
```

**è©•åƒ¹**: é€™æ˜¯å°ˆæ¡ˆä¸­æœ€å¥½çš„æ¼”ç®—æ³•é¸æ“‡ã€‚Union-Find åœ¨å­¸è¡“ä¸Šæ˜¯æ¨™æº–åšæ³•ï¼Œä½†åœ¨ MCP å·¥å…·ç”Ÿæ…‹ä¸­æ¥µå°‘è¦‹ã€‚

**é™åˆ¶**: æ¨™é¡ŒåŒ¹é…æ˜¯**ç²¾ç¢ºåŒ¹é…**ï¼ˆæ­£è¦åŒ–å¾Œï¼‰ï¼Œç„¡æ³•è™•ç†å¾®å°å·®ç•°ï¼ˆ"vs" vs "versus"ã€æ‹¼å¯«è®Šé«”ï¼‰ã€‚

#### 2.1.2 å…­ç¶­åŠ æ¬Šæ’åºï¼ˆâ­â­ åˆç†ä½†åç°¡å–®ï¼‰

**ä½ç½®**: `application/search/result_aggregator.py`

| ç¶­åº¦ | æ¼”ç®—æ³• | æ¬Šé‡ | è©•åƒ¹ |
|------|--------|:----:|------|
| **relevance** | term overlapï¼ˆé›†åˆäº¤é›†æ¯”ä¾‹ï¼‰ | 0.25 | âŒ æœ€å¼±ç’°ç¯€ â€” bag-of-words |
| **quality** | æ–‡ç« é¡å‹æŸ¥è¡¨ + å®Œæ•´åº¦ + OAåŠ åˆ† | 0.20 | âœ… åˆç† |
| **recency** | æŒ‡æ•¸è¡°æ¸› `0.5^(age/half_life)` | 0.15 | âœ… æ¨™æº–åšæ³• |
| **impact** | RCR sigmoid `rcr/(rcr+2)` + citation log10 | 0.20 | âœ… å¥½çš„é£½å’Œæ›²ç·š |
| **source_trust** | ä¾†æºä¿¡ä»»æŸ¥è¡¨ + å¤šæºé©—è­‰åŠ åˆ† | 0.10 | âœ… å¯¦ç”¨ |
| **entity_match** | PubTator3 å¯¦é«”åœ¨æ–‡ç« ä¸­å‡ºç¾æ¯”ä¾‹ | 0.10 | âš ï¸ ä¾è³´å¤–éƒ¨ API |

**æ ¸å¿ƒå•é¡Œ**: `relevance` ç”¨ **ç´” term overlap**ï¼ˆbag-of-wordsï¼‰ï¼Œä¸è€ƒæ…®ï¼š
- è©é » (TF) â€” "cancer" å‡ºç¾ 10 æ¬¡ vs 1 æ¬¡
- é€†æ–‡ä»¶é »ç‡ (IDF) â€” "the" vs "remimazolam" çš„å€åˆ†åŠ›
- æ–‡ä»¶é•·åº¦æ­£è¦åŒ– â€” é•· abstract è‡ªç„¶å‘½ä¸­æ›´å¤šè©

#### 2.1.3 å¤šç­–ç•¥æ·±åº¦æœå°‹ï¼ˆâ­â­ å¥½çš„ç³»çµ±è¨­è¨ˆï¼‰

**ä½ç½®**: `presentation/mcp_server/tools/unified.py`

```
ç­–ç•¥: SemanticEnhancer ç”¢ç”Ÿå¤šå€‹ SearchPlan â†’ asyncio.gather() ä¸¦è¡ŒåŸ·è¡Œ
è¯åˆå¬å›ç‡: 1 - âˆ(1 - recall_i)  (æ¦‚ç‡ä¸¦é›†)
åŠ æ¬Šç²¾ç¢ºåº¦: Î£(precision_i Ã— count_i) / total_count
```

**å•é¡Œ**: recall/precision æ˜¯**ç¡¬ç·¨ç¢¼ä¼°ç®—å€¼**ï¼ˆå¦‚ `expected_precision=0.7`ï¼‰ï¼Œä¸æ˜¯å¾çµæœè¨ˆç®—çš„ã€‚

#### 2.1.4 å…­å±¤æ¼¸é€²æ”¾å¯¬ï¼ˆâ­â­ å¯¦ç”¨å·¥ç¨‹æ–¹æ¡ˆï¼‰

**ä½ç½®**: `presentation/mcp_server/tools/unified.py`

```
Level 1: ç§»é™¤é€²éšç¯©é¸ (age_group, clinical_query)
Level 2: ç§»é™¤å¹´ä»½é™åˆ¶
Level 3: ç§»é™¤å‡ºç‰ˆé¡å‹ç¯©é¸ (RCT, Meta-analysis)  
Level 4: ç§»é™¤ PubMed æ¬„ä½æ¨™ç±¤ ([Title], [MeSH Terms])
Level 5: AND â†’ OR
Level 6: èƒå–æ ¸å¿ƒé—œéµå­—ï¼ˆæœ€å¤š 3 å€‹ï¼‰
```

**è©•åƒ¹**: æœå°‹å¼•æ“å·¥ç¨‹ä¸­å¸¸è¦‹çš„ query relaxation ç­–ç•¥ï¼Œç³»çµ±åŒ–åšå¾—ä¸éŒ¯ï¼Œä½†éå­¸è¡“å‰µæ–°ã€‚

#### 2.1.5 é‡Œç¨‹ç¢‘åµæ¸¬ï¼ˆâ­â­ æœ‰æ•ˆçš„è¦å‰‡å¼•æ“ï¼‰

**ä½ç½®**: `application/timeline/milestone_detector.py`

```
å››ç´šç®¡ç·š: ç¬¬ä¸€ç¯‡ â†’ PubMed å‡ºç‰ˆç‰©é¡å‹ â†’ æ¨™é¡Œæ­£å‰‡ (17ç¨®) â†’ å¼•ç”¨æ•¸é–¾å€¼
è­‰æ“šç­‰ç´š: æ˜ å°„åˆ° Oxford CEBM Level 1-4
æ™‚æœŸåˆ†çµ„: Discovery â†’ Clinical Development â†’ Regulatory â†’ Evidence Synthesis â†’ Post-Market
```

**é™åˆ¶**:
- å¼•ç”¨é–¾å€¼æ˜¯**å›ºå®šçš„**ï¼ˆâ‰¥500/200ï¼‰ï¼Œä¸å› é ˜åŸŸèª¿æ•´
- ç„¡æ³•åµæ¸¬ã€Œéš±å«çš„é‡Œç¨‹ç¢‘ã€ï¼ˆä¸å« "FDA" ä½†æè¿°äº†æ‰¹å‡†çš„æ–‡ç« ï¼‰
- ç¬¬ä¸€ç¯‡åµæ¸¬ä¾è³´æœå°‹æ’åºï¼Œå¯èƒ½ä¸æ˜¯çœŸæ­£æœ€æ—©çš„

### 2.2 æœ¬è³ªä¸Šæ˜¯ API åŒ…è£çš„çµ„ä»¶

| çµ„ä»¶ | ä½ç½® | å¯¦éš›åšæ³• | ç‚ºä»€éº¼ä¸ç®—å‰µæ–° |
|------|------|---------|---------------|
| **QueryAnalyzer** | `application/search/query_analyzer.py` | ç¡¬ç·¨ç¢¼é—œéµå­—é›†åˆ + æ­£å‰‡ | é›¶ NLPï¼Œå­¸è¡“ä¸Šç”¨ BioBERT åˆ†é¡å¯é” 95%+ |
| **SemanticEnhancer** | `application/search/semantic_enhancer.py` | PubTator3 autocomplete API è–„åŒ…è£ + å›ºå®š 5 ç¨®ç­–ç•¥æ¨¡æ¿ | åªç”¨ autocompleteï¼ˆé annotateï¼‰ï¼Œç­–ç•¥æ˜¯éœæ…‹çš„ |
| **Citation Tree** | `presentation/mcp_server/tools/citation_tree.py` | BFS + è³‡æ–™æ ¼å¼è½‰æ› | é›¶åœ–è«–åˆ†æï¼ˆæ²’æœ‰ PageRankã€community detectionï¼‰ |
| **Similarity Scores** | `presentation/mcp_server/tools/unified.py` | `1.0 - (position Ã— 0.9 / (total-1))` + source_boost | **åç¨±èª¤å°** â€” åªæ˜¯æ’åä½ç½®çš„ç·šæ€§è½‰æ› |
| **precision/recall ä¼°ç®—** | å¤šè™• | ç¡¬ç·¨ç¢¼å¸¸æ•¸ï¼ˆå¦‚ 0.7/0.5ï¼‰ | éå¯¦æ¸¬å€¼ï¼Œç„¡çµ±è¨ˆæ„ç¾© |
| **ICD-MeSH è½‰æ›** | å„è™• | éœæ…‹æŸ¥è¡¨æ˜ å°„ | æ¨™æº–è³‡æ–™è½‰æ› |
| **æ‰€æœ‰ Source Clients** | `infrastructure/sources/` | HTTP API â†’ response mapping | ç´”è³‡æ–™ä¸­ä»‹å±¤ |

### 2.3 ç¾ç‹€ç¸½çµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            PubMed Search MCP â€” æ¼”ç®—æ³•æ·±åº¦åˆ†å¸ƒ             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  API åŒ…è£å±¤        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  60%         â”‚
â”‚  (Source Clients, ICD, Similarity Scores)                â”‚
â”‚                                                          â”‚
â”‚  è¦å‰‡å¼•æ“          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         30%         â”‚
â”‚  (QueryAnalyzer, MilestoneDetector, Relaxation)         â”‚
â”‚                                                          â”‚
â”‚  æ¼”ç®—æ³•å¯¦ä½œ        â–ˆâ–ˆâ–ˆâ–ˆ                      10%         â”‚
â”‚  (Union-Find, å…­ç¶­æ’åº, æ¦‚ç‡å¬å›ç‡)                       â”‚
â”‚                                                          â”‚
â”‚  å­¸è¡“å‰µæ–°          â–‘                          0%         â”‚
â”‚  (ç„¡çªç ´æ€§æ¼”ç®—æ³•)                                         â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¸€å¥è©±çµè«–**ï¼šå·¥ç¨‹æ•´åˆå“è³ªé«˜ï¼Œæ¼”ç®—æ³•æ·±åº¦ä¸è¶³ã€‚

---

## 4. å­¸è¡“å‰µæ–°æ©Ÿæœƒ

### 4.1 Tier 1ï¼šé«˜å½±éŸ¿åŠ› + å¯ç™¼è«–æ–‡

#### ğŸ† 3.1.1 æ™ºèƒ½ç›¸é—œæ€§æ’åºï¼šBM25 + Reciprocal Rank Fusion

**å•é¡Œ**: ç¾æœ‰ relevance è¨ˆç®—æ˜¯ term overlapï¼ˆbag-of-wordsï¼‰ï¼Œé€™æ˜¯è³‡è¨Šæª¢ç´¢é ˜åŸŸ 1960 å¹´ä»£çš„æ°´æº–ã€‚

**æ–¹æ¡ˆ**: å…©éšæ®µå‡ç´š

**Stage 1: BM25 (Okapi BM25)**

BM25 æ˜¯è³‡è¨Šæª¢ç´¢çš„äº‹å¯¦æ¨™æº–ï¼ˆRobertson & Zaragoza, 2009ï¼‰ï¼Œè€ƒæ…®ï¼š
- **è©é » (TF)**: é£½å’Œæ›²ç·šï¼Œé¿å…é«˜é »è©ä¸»å°
- **é€†æ–‡ä»¶é »ç‡ (IDF)**: ç¨€æœ‰è©ç²å¾—æ›´é«˜æ¬Šé‡
- **æ–‡ä»¶é•·åº¦æ­£è¦åŒ–**: æ¶ˆé™¤é•·æ–‡åè¦‹

$$\text{BM25}(q, d) = \sum_{t \in q} \text{IDF}(t) \cdot \frac{f(t,d) \cdot (k_1 + 1)}{f(t,d) + k_1 \cdot (1 - b + b \cdot \frac{|d|}{avgdl})}$$

å…¶ä¸­ $k_1=1.2$, $b=0.75$ æ˜¯æ¨™æº–åƒæ•¸ã€‚

```python
# é ä¼°å¯¦ä½œï¼ˆ~100 è¡Œï¼‰
from rank_bm25 import BM25Okapi

def bm25_relevance(query: str, articles: list[UnifiedArticle]) -> list[float]:
    """BM25 æ›¿ä»£ term overlap åšç›¸é—œæ€§æ’åº"""
    # å°‡æ¯ç¯‡æ–‡ç« çš„ title + abstract åš tokenization
    corpus = [tokenize(a.title + " " + (a.abstract or "")) for a in articles]
    bm25 = BM25Okapi(corpus)
    return bm25.get_scores(tokenize(query))
```

**Stage 2: Reciprocal Rank Fusion (RRF)**

å¤šæºçµæœåˆä½µæ™‚ï¼Œç”¨ RRF æ›¿ä»£ã€Œæ’åä½ç½®ç·šæ€§è½‰æ›ã€ï¼š

$$\text{RRF}(d) = \sum_{r \in R} \frac{1}{k + r(d)}$$

å…¶ä¸­ $R$ æ˜¯å„ä¾†æºçš„æ’ååˆ—è¡¨ï¼Œ$k=60$ æ˜¯å¸¸æ•¸ã€‚

RRF çš„å„ªå‹¢ï¼ˆCormack et al., 2009ï¼‰ï¼š
- **ä¸éœ€è¦åˆ†æ•¸æ ¡æº–** â€” ä¸åŒä¾†æºçš„åˆ†æ•¸é‡ç¶±ä¸åŒï¼ŒRRF åªç”¨æ’å
- **æ•ˆæœç©©å®š** â€” åœ¨ TREC å¤šæ¬¡è©•æ¸¬ä¸­è¡¨ç¾å„ªç•°
- **é›¶è¨“ç·´** â€” ä¸éœ€è¦ä»»ä½•æ¨™è¨»è³‡æ–™

```python
# é ä¼°å¯¦ä½œï¼ˆ~30 è¡Œï¼‰
def reciprocal_rank_fusion(
    ranked_lists: list[list[str]],  # å„ä¾†æºçš„ PMID æ’ååˆ—è¡¨
    k: int = 60
) -> dict[str, float]:
    """RRF èåˆå¤šä¾†æºæ’å"""
    scores = {}
    for ranked in ranked_lists:
        for rank, pmid in enumerate(ranked, 1):
            scores[pmid] = scores.get(pmid, 0) + 1 / (k + rank)
    return dict(sorted(scores.items(), key=lambda x: x[1], reverse=True))
```

**é æœŸæ•ˆæœ**: åŸºæ–¼ TREC PM benchmarkï¼ŒBM25+RRF ç›¸æ¯” term overlap é è¨ˆæå‡ nDCG@10 é” **20-30%**ã€‚

**å¯¦ä½œé›£åº¦**: ä½ï¼ˆ`rank_bm25` å¥—ä»¶ + 30 è¡Œ RRFï¼‰

---

#### ğŸ† 3.1.2 å¼•ç”¨ç¶²è·¯é€²éšåˆ†æï¼šMain Path Analysis + Community Detection

**å•é¡Œ**: Citation Tree ç›®å‰åªåš BFS éæ­· + æ ¼å¼è½‰æ›ï¼Œæ²’æœ‰ä»»ä½•åœ–è«–åˆ†æã€‚

**æ–¹æ¡ˆ**: ä¸‰å€‹ç¶“å…¸å¼•æ–‡å­¸æ¼”ç®—æ³•

**Algorithm 1: Main Path Analysis (Hummon & Doreian, 1989)**

åœ¨å¼•ç”¨ç¶²è·¯ä¸­æ‰¾å‡ºã€Œç ”ç©¶ç™¼å±•çš„ä¸»å¹¹é“ã€â€”â€” å¾è©²é ˜åŸŸæœ€åˆçš„è«–æ–‡åˆ°æœ€æ–°çš„è«–æ–‡ä¹‹é–“ï¼Œæœ€é‡è¦çš„çŸ¥è­˜å‚³æ‰¿è·¯å¾‘ã€‚

æ­¥é©Ÿï¼š
1. å»ºæ§‹å¼•ç”¨ DAGï¼ˆæœ‰å‘ç„¡ç’°åœ–ï¼‰
2. è¨ˆç®—æ¯æ¢é‚Šçš„ **Search Path Count (SPC)** æˆ– **Search Path Link Count (SPLC)**
3. å¾ sourceï¼ˆæœ€æ—©è«–æ–‡ï¼‰åˆ° sinkï¼ˆæœ€æ–°è«–æ–‡ï¼‰ï¼Œé¸æ“‡ SPC æœ€å¤§çš„è·¯å¾‘

$$\text{SPC}(e_{ij}) = \text{paths}_{\text{source} \to i} \times \text{paths}_{j \to \text{sink}}$$

```python
# æ¦‚å¿µï¼ˆnetworkx å¯¦ä½œï¼Œ~150 è¡Œï¼‰
import networkx as nx

def main_path_analysis(G: nx.DiGraph) -> list[str]:
    """æ‰¾å‡ºå¼•ç”¨ç¶²è·¯ä¸­çš„ç ”ç©¶ä¸»å¹¹é“"""
    # 1. è¨ˆç®—æ‰€æœ‰é‚Šçš„ SPC
    spc = {}
    sources = [n for n in G if G.in_degree(n) == 0]
    sinks = [n for n in G if G.out_degree(n) == 0]

    for u, v in G.edges():
        paths_to_u = sum(nx.has_path(G, s, u) for s in sources)
        paths_from_v = sum(nx.has_path(G, v, s) for s in sinks)
        spc[(u, v)] = paths_to_u * paths_from_v

    # 2. è²ªå¿ƒè¿½è¹¤æœ€å¤§ SPC è·¯å¾‘
    main_path = greedy_forward_path(G, spc, sources)
    return main_path
```

**å‰µæ–°é»**: å°‡å¼•æ–‡å­¸ç¶“å…¸æ¼”ç®—æ³•é¦–æ¬¡æ•´åˆé€² AI Agent å¯æ“ä½œçš„ MCP å·¥å…·ã€‚Agent å¯ä»¥ç›´æ¥å‘Šè¨´ç”¨æˆ¶ã€Œé€™å€‹é ˜åŸŸçš„ç ”ç©¶ä¸»ç·šæ˜¯ï¼šA (2010) â†’ B (2013) â†’ C (2018) â†’ D (2024)ã€ã€‚

**Algorithm 2: Community Detection (Louvain, Blondel et al. 2008)**

åœ¨å¼•ç”¨/è¢«å¼•ç”¨ç¶²è·¯ä¸­ç™¼ç¾ç ”ç©¶å­ç¤¾ç¾¤ï¼š

```python
from networkx.algorithms.community import louvain_communities

def detect_research_communities(G: nx.Graph) -> list[set]:
    """ç™¼ç¾å¼•ç”¨ç¶²è·¯ä¸­çš„ç ”ç©¶å­ç¤¾ç¾¤"""
    communities = louvain_communities(G, resolution=1.0)
    # æ¯å€‹ç¤¾ç¾¤ä»£è¡¨ä¸€å€‹ç ”ç©¶å­é ˜åŸŸ
    return sorted(communities, key=len, reverse=True)
```

**Algorithm 3: PageRank**

æ‰¾å‡ºå¼•ç”¨ç¶²è·¯ä¸­æœ€ã€Œé‡è¦ã€çš„ç¯€é»ï¼ˆä¸åªæ˜¯å¼•ç”¨æ•¸æœ€é«˜ï¼‰ï¼š

$$\text{PR}(p) = \frac{1-d}{N} + d \sum_{q \in B_p} \frac{\text{PR}(q)}{L(q)}$$

```python
pagerank = nx.pagerank(G, alpha=0.85)
key_papers = sorted(pagerank.items(), key=lambda x: x[1], reverse=True)[:10]
```

**å¯¦ä½œé›£åº¦**: ä¸­ï¼ˆ`networkx` å·²æœ‰ Louvain å’Œ PageRank å¯¦ä½œï¼Œéœ€è¦åŒ…è£å’Œ MCP å·¥å…·åŒ–ï¼‰

---

#### ğŸ† 3.1.3 Citation Burst Detectionï¼ˆå¼•ç”¨çªç™¼åµæ¸¬ï¼‰

**å•é¡Œ**: Milestone Detection ç”¨å›ºå®šå¼•ç”¨é–¾å€¼ï¼ˆâ‰¥500/200ï¼‰ï¼Œç„¡æ³•å€åˆ†ã€Œç©©å®šé«˜å¼•ç”¨ã€å’Œã€Œçªç„¶çˆ†ç™¼ã€ã€‚

**æ–¹æ¡ˆ**: Kleinberg (2003) Burst Detection

Kleinberg æ¨¡å‹å°‡æ™‚é–“åºåˆ—å»ºæ¨¡ç‚ºä¸€å€‹**å…©æ…‹è‡ªå‹•æ©Ÿ**ï¼š
- **æ­£å¸¸æ…‹ (q=0)**: å¼•ç”¨ä»¥åŸºæœ¬é€Ÿç‡ $\hat{p}$ åˆ°é”
- **çªç™¼æ…‹ (q=1)**: å¼•ç”¨ä»¥åŠ é€Ÿé€Ÿç‡ $s \cdot \hat{p}$ åˆ°é”ï¼ˆ$s > 1$ï¼‰

ç”¨ Viterbi æ¼”ç®—æ³•æ‰¾å‡ºæœ€å¯èƒ½çš„ç‹€æ…‹åºåˆ—ï¼Œè­˜åˆ¥çªç™¼æ™‚æ®µã€‚

$$\text{cost}(i, q) = -\ln \binom{d_i}{r_i} p_q^{r_i} (1-p_q)^{d_i - r_i}$$

å…¶ä¸­ $d_i$ æ˜¯ç¬¬ $i$ æ™‚æ®µçš„ç¸½æ–‡ç»æ•¸ï¼Œ$r_i$ æ˜¯è¢«å¼•æ¬¡æ•¸ã€‚

**æ‡‰ç”¨å ´æ™¯**:
- è¼¸å…¥ï¼šæŸä¸»é¡Œæ¯å¹´è¢«å¼•æ¬¡æ•¸åºåˆ— `[3, 5, 4, 7, 45, 120, 89, 30, 15, ...]`
- è¼¸å‡ºï¼šçªç™¼æ™‚æ®µ `[{start: 2019, end: 2021, strength: 4.2}]`
- æ„ç¾©ï¼šã€Œè©²é ˜åŸŸåœ¨ 2019-2021 å¹´ç¶“æ­·äº†å¼•ç”¨çªç™¼ï¼Œå¯èƒ½å°æ‡‰é‡å¤§ç™¼ç¾æˆ–çˆ­è­°ã€

```python
def detect_citation_bursts(
    yearly_citations: dict[int, int],
    s: float = 2.0,      # çªç™¼é€Ÿç‡å€æ•¸
    gamma: float = 1.0,  # ç‹€æ…‹åˆ‡æ›æ‡²ç½°
) -> list[BurstPeriod]:
    """Kleinberg burst detection on yearly citation counts"""
    years = sorted(yearly_citations.keys())
    counts = [yearly_citations[y] for y in years]

    # Viterbi on 2-state automaton
    states = viterbi_two_state(counts, s, gamma)

    # Extract burst periods (consecutive q=1 states)
    bursts = extract_burst_periods(years, states, counts)
    return bursts
```

**èˆ‡ç¾æœ‰ Milestone Detection çš„çµåˆ**:

| | ç¾æœ‰æ–¹æ¡ˆ | + Burst Detection |
|---|---------|-------------------|
| è¼¸å…¥ | å–®ç¯‡æ–‡ç« çš„æ¨™é¡Œ/é¡å‹ | æ™‚é–“åºåˆ—ï¼ˆæ•´å€‹é ˜åŸŸï¼‰ |
| æ–¹æ³• | æ­£å‰‡åŒ¹é… | çµ±è¨ˆæ¨¡å‹ (HMM) |
| èƒ½åµæ¸¬ | æ˜ç¢ºçš„äº‹ä»¶ï¼ˆ"FDA approved"ï¼‰ | éš±å«çš„è¶¨å‹¢è½‰æŠ˜ |
| ç„¡æ³•åµæ¸¬ | é ˜åŸŸç´šè¶¨å‹¢è®ŠåŒ– | å…·é«”äº‹ä»¶é¡å‹ |

å…©è€…äº’è£œï¼šMilestone å›ç­”ã€Œç™¼ç”Ÿäº†ä»€éº¼ã€ï¼ŒBurst å›ç­”ã€Œä»€éº¼æ™‚å€™é ˜åŸŸçªç„¶é—œæ³¨ã€ã€‚

**å¯¦ä½œé›£åº¦**: ä¸­ï¼ˆ~200 è¡Œï¼ŒViterbi æ¼”ç®—æ³•éœ€è¦å¯¦ä½œæˆ–ä½¿ç”¨ `burst_detection` å¥—ä»¶ï¼‰

**è«–æ–‡æ½›åŠ›**: â­â­â­ æœ€é«˜ã€‚ã€ŒAgent-Assisted Citation Burst Detection for Research Milestone Discoveryã€å¯ç¨ç«‹ç™¼è¡¨ã€‚

---

### 4.2 Tier 2ï¼šä¸­ç­‰å½±éŸ¿åŠ› + å·¥ç¨‹æå‡

#### ğŸ¥ˆ 3.2.1 Pseudo-Relevance Feedback (PRF)

**å•é¡Œ**: æŸ¥è©¢æ“´å±•åªä¾è³´ PubTator3 autocomplete â†’ MeSH æ˜ å°„ â†’ å›ºå®šç­–ç•¥æ¨¡æ¿ã€‚

**æ–¹æ¡ˆ**: Rocchio (1971) / Lavrenko-Croft (2001) çš„ PRFï¼š

1. åŸ·è¡Œåˆå§‹æŸ¥è©¢ï¼Œå–å‰ $N$ ç¯‡çµæœï¼ˆå‡è¨­å®ƒå€‘æ˜¯ç›¸é—œçš„ï¼Œ"pseudo-relevance"ï¼‰
2. å¾é€™äº›çµæœä¸­æå–**é«˜ TF-IDF çš„æ–°è©å½™**
3. ç”¨æ–°è©å½™æ“´å±•æŸ¥è©¢ï¼Œé‡æ–°æœå°‹

$$\vec{q}_{\text{new}} = \alpha \vec{q}_{\text{orig}} + \frac{\beta}{|D_r|} \sum_{d \in D_r} \vec{d}$$

å¯¦éš›æ“´å±•æ™‚ä¸éœ€è¦å®Œæ•´å‘é‡ç©ºé–“ï¼Œåªéœ€ï¼š

```python
from collections import Counter
import math

def pseudo_relevance_feedback(
    original_query: str,
    top_results: list[UnifiedArticle],
    num_expansion_terms: int = 10,
    top_n: int = 10,
) -> str:
    """PRF: å¾é¦–è¼ªæœå°‹çš„ top-N çµæœä¸­æå–æ“´å±•è©"""
    # 1. æ”¶é›†æ‰€æœ‰ top-N æ–‡ç« çš„ title + abstract è©å½™
    doc_freqs = Counter()
    term_freqs = Counter()
    for article in top_results[:top_n]:
        text = f"{article.title} {article.abstract or ''}"
        terms = tokenize(text)
        unique_terms = set(terms)
        for t in terms:
            term_freqs[t] += 1
        for t in unique_terms:
            doc_freqs[t] += 1

    # 2. è¨ˆç®— TF-IDF
    n_docs = len(top_results[:top_n])
    tfidf = {}
    for term, tf in term_freqs.items():
        idf = math.log(n_docs / (1 + doc_freqs[term]))
        tfidf[term] = tf * idf

    # 3. æ’é™¤åŸå§‹æŸ¥è©¢å·²æœ‰çš„è© + åœç”¨è©
    query_terms = set(tokenize(original_query))
    expansion = [
        (term, score) for term, score in tfidf.items()
        if term not in query_terms and term not in STOPWORDS and len(term) > 3
    ]
    expansion.sort(key=lambda x: x[1], reverse=True)

    # 4. æ§‹å»ºæ“´å±•æŸ¥è©¢
    new_terms = [t for t, _ in expansion[:num_expansion_terms]]
    expanded_query = f"({original_query}) AND ({' OR '.join(new_terms)})"
    return expanded_query
```

**æ•ˆæœ**: å­¸è¡“æ–‡ç»é¡¯ç¤º PRF å¯æå‡ recall@100 é” **15-25%**ï¼Œåœ¨ç”Ÿé†«é ˜åŸŸå°¤ç‚ºæœ‰æ•ˆã€‚

**å¯¦ä½œé›£åº¦**: ä½ï¼ˆ~150 è¡Œï¼Œç´”çµ±è¨ˆæ–¹æ³•ï¼‰

---

#### ğŸ¥ˆ 3.2.2 MinHash æ¨¡ç³Šå»é‡

**å•é¡Œ**: æ¨™é¡ŒåŒ¹é…æ˜¯ç²¾ç¢ºåŒ¹é…ï¼ˆæ­£è¦åŒ–å¾Œï¼‰ï¼Œç„¡æ³•è™•ç†ï¼š
- "propofol vs dexmedetomidine" â‰  "propofol versus dexmedetomidine"
- "A randomized trial of X" â‰  "A randomised trial of X"ï¼ˆç¾å¼/è‹±å¼æ‹¼å¯«ï¼‰
- å‰¯æ¨™é¡Œå·®ç•°ï¼š"X: a systematic review" vs "X â€” a systematic review"

**æ–¹æ¡ˆ**: MinHash + LSH (Broder, 1997)

```python
from datasketch import MinHash, MinHashLSH

def fuzzy_dedup(articles: list[UnifiedArticle], threshold: float = 0.85):
    """MinHash LSH æ¨¡ç³Šå»é‡"""
    lsh = MinHashLSH(threshold=threshold, num_perm=128)

    for i, article in enumerate(articles):
        m = MinHash(num_perm=128)
        # Character n-grams (3-grams) æ¯” word-level æ›´æŠ—æ‹¼å¯«è®ŠåŒ–
        title_normalized = normalize_title(article.title)
        for ngram in ngrams(title_normalized, n=3):
            m.update(ngram.encode('utf8'))
        lsh.insert(str(i), m)

    # æŸ¥è©¢æ¯ç¯‡æ–‡ç« çš„è¿‘ä¼¼é‡è¤‡
    duplicates = []
    for i, article in enumerate(articles):
        m = create_minhash(article.title)
        results = lsh.query(m)
        # results åŒ…å«æ‰€æœ‰ Jaccard â‰¥ threshold çš„æ–‡ç« 
        ...
```

**èˆ‡ç¾æœ‰ Union-Find çš„æ•´åˆ**: MinHash ä½œç‚º Union-Find çš„**ç¬¬å››é€šé“**ï¼ˆDOI â†’ PMID â†’ Exact Title â†’ **Fuzzy Title**ï¼‰ï¼Œåªåœ¨å‰ä¸‰é€šé“æœªå‘½ä¸­æ™‚è§¸ç™¼ã€‚

**å¯¦ä½œé›£åº¦**: ä½ï¼ˆ`datasketch` å¥—ä»¶ï¼Œ~80 è¡Œï¼‰

---

#### ğŸ¥ˆ 3.2.3 æœå°‹è©å·®ç•°åˆ†æï¼ˆQuery Term Differentiationï¼‰

è©³è¦‹ [Â§5 å°ˆç¯€](#5-æœå°‹è©å·®ç•°åˆ†ææ¼”ç®—æ³•æ·±å…¥æ¢è¨)ã€‚

---

### 4.3 Tier 3ï¼šæœ‰ç”¨ä½†åå·¥ç¨‹

#### ğŸ¥‰ 3.3.1 Learning-to-Rank (LTR)

ç”¨ç¾æœ‰å…­ç¶­ç‰¹å¾µè¨“ç·´ LambdaMART æ¨¡å‹ï¼š
- è¨“ç·´è³‡æ–™ï¼šiCite percentile åšå¼±ç›£ç£ï¼ˆé«˜ percentile = é«˜å“è³ªæ’åï¼‰
- å·¥å…·ï¼š`xgboost` + `scikit-learn`
- å•é¡Œï¼šéœ€è¦è¶³å¤ çš„æ¨™è¨»è³‡æ–™ï¼Œå†·å•Ÿå‹•å›°é›£

**å¯¦ä½œé›£åº¦**: é«˜ | **å„ªå…ˆç´š**: ä½

#### ğŸ¥‰ 3.3.2 Dynamic Topic Models (DTM)

è¿½è¹¤ä¸»é¡Œéš¨æ™‚é–“çš„èªç¾©æ¼”åŒ–ï¼ˆä¸åªæ˜¯æ–‡ç« æ•¸é‡ï¼‰ï¼š
- å·¥å…·ï¼š`gensim.models.LdaSeqModel`
- è¼¸å‡ºï¼šã€Œ2015 å¹´æ­¤é ˜åŸŸä¸»è¦è¨è«– Aã€Bã€â†’ã€Œ2020 å¹´è½‰å‘ Cã€Dã€

**å¯¦ä½œé›£åº¦**: é«˜ | **å„ªå…ˆç´š**: ä½

#### ğŸ¥‰ 3.3.3 SPECTER2 èªæ„æ’åº

Allen AI çš„è«–æ–‡åµŒå…¥æ¨¡å‹ï¼Œå°ˆç‚ºæ–‡ç»ç›¸ä¼¼åº¦è¨­è¨ˆï¼š
- éœ€è¦ä¸‹è¼‰æ¨¡å‹ï¼ˆ~400MBï¼‰
- æ¨è«–éœ€è¦ GPU æˆ–è¼ƒé•· CPU æ™‚é–“
- æ•ˆæœæœ€å¥½ä½†éƒ¨ç½²é–€æª»é«˜

**å¯¦ä½œé›£åº¦**: é«˜ | **å„ªå…ˆç´š**: ä½

---

## 5. æœå°‹è©å·®ç•°åˆ†æï¼šæ¼”ç®—æ³•æ·±å…¥æ¢è¨

> é€™æ˜¯åŸå§‹å•é¡Œçš„æ ¸å¿ƒï¼š**æœ‰æ¼”ç®—æ³•å¯ä»¥æ›´é«˜æ•ˆçš„æ‰¾å‡ºæœå°‹è©ä¹‹é–“çš„å·®ç•°å—ï¼Ÿ**

### 5.1 å•é¡Œå®šç¾©

ç›®å‰çš„æœå°‹æ“´å±•æµç¨‹ï¼š

```
ç”¨æˆ¶è¼¸å…¥ "remimazolam ICU sedation"
    â†’ PubTator3 autocomplete å¾—åˆ° MeSH ID
    â†’ å›ºå®šç­–ç•¥æ¨¡æ¿: original / mesh_expanded / entity_semantic / fulltext_epmc / broad_tiab
    â†’ å„ç­–ç•¥ç¨ç«‹æœå°‹ â†’ çµæœåˆä½µ
```

**å•é¡Œ**: æˆ‘å€‘ä¸çŸ¥é“ï¼š
1. é€™äº›ç­–ç•¥ä¹‹é–“åˆ°åº•æœ‰å¤šå¤§å·®ç•°ï¼Ÿ
2. åŠ å…¥åŒç¾©è© "CNS 7056" æ˜¯å¦çœŸçš„æ‰¾åˆ°äº†ä¸åŒçš„æ–‡ç« ï¼Œé‚„æ˜¯é«˜åº¦é‡ç–Šï¼Ÿ
3. ç”¨ "[MeSH Terms]" vs "[Title/Abstract]" æœå°‹ï¼Œå„è‡ªçš„ç›²å€åœ¨å“ªï¼Ÿ

### 5.2 æ–¹æ¡ˆ Aï¼šæœå°‹çµæœé›†åˆå·®ç•°åˆ†æï¼ˆSet Difference Analysisï¼‰

**æœ€ç›´è§€ã€æœ€æœ‰åƒ¹å€¼çš„æ–¹æ³•**ã€‚

çµ¦å®šå…©å€‹æœå°‹ç­–ç•¥ $A$ å’Œ $B$ï¼ˆå„è¿”å›ä¸€çµ„æ–‡ç«  PMIDï¼‰ï¼Œè¨ˆç®—ï¼š

| æŒ‡æ¨™ | å…¬å¼ | æ„ç¾© |
|------|------|------|
| **Jaccard** ç›¸ä¼¼åº¦ | $J(A,B) = \frac{|A \cap B|}{|A \cup B|}$ | å…©ç­–ç•¥çµæœé‡ç–Šåº¦ |
| **A ç¨ä½”ç‡** | $\text{Excl}_A = \frac{|A \setminus B|}{|A|}$ | A èƒ½æ‰¾åˆ°ä½† B æ‰¾ä¸åˆ°çš„æ¯”ä¾‹ |
| **B ç¨ä½”ç‡** | $\text{Excl}_B = \frac{|B \setminus A|}{|B|}$ | B èƒ½æ‰¾åˆ°ä½† A æ‰¾ä¸åˆ°çš„æ¯”ä¾‹ |
| **å°ç¨±å·®ç•°** | $\Delta(A,B) = |A \triangle B| = |A \setminus B| + |B \setminus A|$ | å…©ç­–ç•¥çš„ä¸åŒæ–‡ç« ç¸½æ•¸ |
| **å¢ç›Šç‡** | $\text{Gain}_{A \to B} = \frac{|B \setminus A|}{|A|}$ | å¾ç­–ç•¥ A åˆ‡æ›åˆ° Bï¼Œé¡å¤–ç²å¾—çš„æ–‡ç« æ¯”ä¾‹ |

**é€²éšåˆ†æ**: å°ç¨ä½”æ–‡ç« åš MeSH term åˆ†å¸ƒåˆ†æ

```python
def analyze_strategy_difference(
    results_a: list[str],  # ç­–ç•¥ A çš„ PMIDs
    results_b: list[str],  # ç­–ç•¥ B çš„ PMIDs
    articles_cache: dict,  # PMID â†’ article å¿«å–
) -> StrategyDiffReport:
    """åˆ†æå…©å€‹æœå°‹ç­–ç•¥çš„çµæœå·®ç•°"""
    set_a, set_b = set(results_a), set(results_b)

    overlap = set_a & set_b
    only_a = set_a - set_b
    only_b = set_b - set_a

    # åŸºæœ¬çµ±è¨ˆ
    jaccard = len(overlap) / len(set_a | set_b) if set_a | set_b else 0

    # MeSH åˆ†å¸ƒå·®ç•°: ç¨ä½”æ–‡ç« ç”¨äº†å“ªäº› MeSHï¼Ÿ
    mesh_only_a = extract_mesh_terms(only_a, articles_cache)
    mesh_only_b = extract_mesh_terms(only_b, articles_cache)
    mesh_unique_to_a = mesh_only_a - mesh_only_b  # A ç¨æœ‰çš„ MeSH ä¸»é¡Œ
    mesh_unique_to_b = mesh_only_b - mesh_only_a  # B ç¨æœ‰çš„ MeSH ä¸»é¡Œ

    # ç™¼è¡¨å¹´åˆ†å¸ƒ: ç¨ä½”æ–‡ç« æ˜¯æ–°çš„é‚„æ˜¯èˆŠçš„ï¼Ÿ
    years_only_a = [articles_cache[p].year for p in only_a if p in articles_cache]
    years_only_b = [articles_cache[p].year for p in only_b if p in articles_cache]

    return StrategyDiffReport(
        jaccard=jaccard,
        overlap_count=len(overlap),
        only_a_count=len(only_a),
        only_b_count=len(only_b),
        mesh_unique_to_a=mesh_unique_to_a,
        mesh_unique_to_b=mesh_unique_to_b,
        year_distribution_a=years_only_a,
        year_distribution_b=years_only_b,
        recommendation=generate_recommendation(jaccard, only_a, only_b),
    )

def generate_recommendation(jaccard, only_a, only_b) -> str:
    """æ ¹æ“šåˆ†æçµæœç”Ÿæˆå»ºè­°"""
    if jaccard > 0.9:
        return "å…©å€‹ç­–ç•¥é«˜åº¦é‡ç–Š â€” å»ºè­°åªä¿ç•™å…¶ä¸­ä¸€å€‹ä»¥ç¯€çœ API é…é¡"
    elif jaccard > 0.6:
        return "ä¸­åº¦é‡ç–Š â€” å…©ç­–ç•¥äº’è£œï¼Œå»ºè­°åˆä½µä½¿ç”¨"
    elif jaccard < 0.3:
        return "ä½é‡ç–Š â€” å…©ç­–ç•¥æœå°‹ç¯„åœå·®ç•°å¤§ï¼Œå¯èƒ½éœ€è¦æª¢æŸ¥æ˜¯å¦æœ‰ä¸€å€‹éæ–¼åé›¢ä¸»é¡Œ"
```

**MCP å·¥å…·åŒ–**:

```python
@mcp_tool
async def analyze_search_strategies(
    query_a: str,
    query_b: str,
    limit: int = 100,
) -> StrategyDiffReport:
    """åˆ†æå…©å€‹æœå°‹ç­–ç•¥çš„å·®ç•°ï¼šå“ªå€‹æ‰¾åˆ°äº†ä»€éº¼ã€éŒ¯éäº†ä»€éº¼"""
```

### 5.3 æ–¹æ¡ˆ Bï¼šMeSH éšå±¤èªæ„è·é›¢

MeSH æ˜¯ä¸€æ£µ**æœ‰ 18 å€‹ä¸»è¦åˆ†æ”¯çš„éšå±¤æ¨¹**ï¼Œå¯ä»¥è¨ˆç®—ä»»æ„å…©å€‹ MeSH è¡“èªçš„èªæ„è·é›¢ã€‚

```
Tree Structure (excerpt):
D - Chemicals and Drugs
â”œâ”€â”€ D02 - Organic Chemicals
â”‚   â”œâ”€â”€ D02.455 - Hydrocarbons
â”‚   â””â”€â”€ D02.886 - Sulfur Compounds
â”œâ”€â”€ D03 - Heterocyclic Compounds
â”‚   â””â”€â”€ D03.383 - Heterocyclic, 1-Ring
â”‚       â””â”€â”€ D03.383.129 - Benzodiazepines
â”‚           â”œâ”€â”€ ...remimazolam...
â”‚           â””â”€â”€ ...midazolam...
â””â”€â”€ D27 - Chemical Actions and Uses
    â””â”€â”€ D27.505 - Pharmacologic Actions
        â””â”€â”€ D27.505.696 - Physiological Effects of Drugs
            â””â”€â”€ ...propofol...
```

**è·é›¢è¨ˆç®—æ–¹æ³•**:

| æ–¹æ³• | å…¬å¼ | ç‰¹é» |
|------|------|------|
| **Path Length** | $\text{dist}(a,b) = \text{shortest\_path}(a, b)$ | æœ€ç°¡å–®ï¼Œä¸è€ƒæ…®æ·±åº¦ |
| **Wu-Palmer** | $\text{sim}(a,b) = \frac{2 \cdot \text{depth}(\text{LCA})}{depth(a) + depth(b)}$ | è€ƒæ…®æœ€è¿‘å…¬å…±ç¥–å…ˆæ·±åº¦ |
| **Lin** | $\text{sim}(a,b) = \frac{2 \cdot IC(\text{LCA})}{IC(a) + IC(b)}$ | åŸºæ–¼ Information Content |
| **Resnik** | $\text{sim}(a,b) = IC(\text{LCA})$ | åªçœ‹ LCA çš„ Information Content |

å…¶ä¸­ LCA = Lowest Common Ancestorï¼ˆæœ€è¿‘å…¬å…±ç¥–å…ˆï¼‰ï¼Œ$IC(c) = -\log P(c)$ æ˜¯èªæ–™åº«é »ç‡çš„ä¿¡æ¯é‡ã€‚

```python
# ä½¿ç”¨ NCBI MeSH API å–å¾—æ¨¹è™Ÿ
async def mesh_semantic_distance(
    term_a: str,
    term_b: str,
    method: str = "wu_palmer",
) -> float:
    """è¨ˆç®—å…©å€‹ MeSH è¡“èªçš„èªæ„è·é›¢"""
    # 1. æŸ¥è©¢ MeSH æ¨¹è™Ÿ
    tree_a = await get_mesh_tree_numbers(term_a)  # e.g., ["D03.383.129.xxx"]
    tree_b = await get_mesh_tree_numbers(term_b)  # e.g., ["D03.383.129.yyy"]

    # 2. è¨ˆç®—æœ€è¿‘å…¬å…±ç¥–å…ˆ
    lca = lowest_common_ancestor(tree_a, tree_b)

    # 3. Wu-Palmer ç›¸ä¼¼åº¦
    if method == "wu_palmer":
        depth_lca = len(lca.split("."))
        depth_a = len(tree_a[0].split("."))
        depth_b = len(tree_b[0].split("."))
        return (2 * depth_lca) / (depth_a + depth_b)
```

**æ‡‰ç”¨**: ç•¶ SemanticEnhancer ç”¢ç”Ÿå¤šå€‹åŒç¾©è©æ™‚ï¼Œè¨ˆç®—å®ƒå€‘ä¹‹é–“çš„èªæ„è·é›¢ï¼š
- è·é›¢è¿‘ï¼ˆå¦‚ remimazolam å’Œ CNS 7056ï¼‰â†’ è¿‘åŒç¾©è©ï¼ŒOR é€£æ¥å³å¯
- è·é›¢ä¸­ï¼ˆå¦‚ remimazolam å’Œ midazolamï¼‰â†’ åŒé¡è—¥ç‰©ï¼Œæœ‰æ„ç¾©çš„æ“´å±•
- è·é›¢é ï¼ˆå¦‚ remimazolam å’Œ propofolï¼‰â†’ ä¸åŒé¡åˆ¥ï¼Œæ¯”è¼ƒæ€§æœå°‹

### 5.4 æ–¹æ¡ˆ Cï¼šæœå°‹è©å‘é‡è·é›¢ï¼ˆBioWordVecï¼‰

ä½¿ç”¨é è¨“ç·´çš„ç”Ÿé†«è©å‘é‡è¨ˆç®—æœå°‹è©ä¹‹é–“çš„èªæ„è·é›¢ï¼š

```python
# BioWordVec: Zhang et al. (2019), åŸºæ–¼ PubMed + MIMIC-III è¨“ç·´
import gensim

model = gensim.models.KeyedVectors.load("BioWordVec_PubMed_MIMICIII_d200.bin")

def query_semantic_distance(query_a: str, query_b: str) -> float:
    """è¨ˆç®—å…©å€‹æœå°‹æŸ¥è©¢çš„èªæ„è·é›¢"""
    vec_a = average_word_vectors(tokenize(query_a), model)
    vec_b = average_word_vectors(tokenize(query_b), model)
    return cosine_similarity(vec_a, vec_b)
```

**å•é¡Œ**: éœ€è¦ä¸‹è¼‰ ~4GB çš„æ¨¡å‹æª”æ¡ˆï¼Œä¸é©åˆè¼•é‡éƒ¨ç½²ã€‚

**æ›¿ä»£æ–¹æ¡ˆ**: ä½¿ç”¨ NCBI API ç·šä¸Šè¨ˆç®—èªæ„ç›¸ä¼¼åº¦ï¼Œæˆ–ç”¨æ›´è¼•é‡çš„ TF-IDF å‘é‡ã€‚

### 5.5 æ–¹æ¡ˆæ¯”è¼ƒ

| æ–¹æ¡ˆ | éœ€è¦æ¨¡å‹ï¼Ÿ | éœ€è¦æœå°‹ï¼Ÿ | ç²¾ç¢ºåº¦ | å¯è§£é‡‹æ€§ | å¯¦ä½œé›£åº¦ |
|------|:---------:|:---------:|:------:|:--------:|:--------:|
| **A. é›†åˆå·®ç•°** | âŒ | âœ… éœ€åŸ·è¡Œæœå°‹ | â­â­â­ | â­â­â­ æœ€ä½³ | ä½ |
| **B. MeSH è·é›¢** | âŒ | âŒ | â­â­ | â­â­â­ | ä¸­ |
| **C. è©å‘é‡** | âœ… 4GB | âŒ | â­â­â­ | â­ | é«˜ |

**æ¨è–¦**: å…ˆå¯¦ä½œæ–¹æ¡ˆ Aï¼ˆé›†åˆå·®ç•°ï¼‰ï¼Œå› ç‚ºå®ƒï¼š
1. ä¸éœ€è¦æ¨¡å‹
2. çµæœæœ€ç›´è§€ã€å¯è§£é‡‹ï¼ˆã€Œç­–ç•¥ A æ¯”ç­–ç•¥ B å¤šæ‰¾åˆ° 15 ç¯‡é—œæ–¼ XXX çš„æ–‡ç« ã€ï¼‰
3. å¯ä»¥ç›´æ¥æ•´åˆé€²ç¾æœ‰çš„ Deep Search æµç¨‹

ç„¶å¾Œç”¨æ–¹æ¡ˆ Bï¼ˆMeSH è·é›¢ï¼‰åš**å…ˆé©—åˆ†æ**ï¼ˆæœå°‹å‰åˆ¤æ–·è©çš„å·®ç•°æœ‰å¤šå¤§ï¼‰ï¼Œæ–¹æ¡ˆ A åš**å¾Œé©—åˆ†æ**ï¼ˆæœå°‹å¾Œçœ‹çµæœå·®ç•°æœ‰å¤šå¤§ï¼‰ã€‚

---

## 6. å¯¦æ–½è·¯ç·šåœ–

### Phase Aï¼šå¿«é€Ÿå‹åˆ©ï¼ˆ1-2 é€±ï¼‰â€” ç„¡éœ€ ML æ¨¡å‹

| # | ä»»å‹™ | æ›¿æ›ç›®æ¨™ | é ä¼°è¡Œæ•¸ | ä¾è³´ |
|---|------|---------|:--------:|------|
| A1 | BM25 æ’åº | `_calculate_relevance()` çš„ term overlap | ~100 | `rank_bm25` |
| A2 | Reciprocal Rank Fusion | `_enrich_with_similarity_scores()` | ~30 | ç„¡ |
| A3 | Pseudo-Relevance Feedback | SemanticEnhancer ç­–ç•¥ç”Ÿæˆ | ~150 | ç„¡ |
| A4 | MinHash æ¨¡ç³Šå»é‡ | Union-Find ç¬¬å››é€šé“ | ~80 | `datasketch` |

**Phase A çš„é©—è­‰**: é¸ 10 å€‹ TREC PM ä¸»é¡Œï¼Œæ¯”è¼ƒæ”¹é€²å‰å¾Œçš„ nDCG@10ã€‚

### Phase Bï¼šæ ¸å¿ƒæ¼”ç®—æ³•ï¼ˆ2-4 é€±ï¼‰â€” ç¶“å…¸æ¼”ç®—æ³•å¯¦ä½œ

| # | ä»»å‹™ | æ–°å¢ MCP å·¥å…· | é ä¼°è¡Œæ•¸ | ä¾è³´ |
|---|------|-------------|:--------:|------|
| B1 | Main Path Analysis | `analyze_citation_network` | ~300 | `networkx` |
| B2 | Citation Burst Detection | å¢å¼· `build_research_timeline` | ~200 | ç„¡ï¼ˆè‡ªè¡Œå¯¦ä½œ Viterbiï¼‰ |
| B3 | MeSH èªæ„è·é›¢ | `compare_search_terms` | ~200 | NCBI MeSH API |
| B4 | æœå°‹ç­–ç•¥å·®ç•°åˆ†æ | `analyze_search_strategies` | ~150 | ç„¡ |
| B5 | Community Detection | å¢å¼· `build_citation_tree` | ~100 | `networkx` |

**Phase B çš„é©—è­‰**:
- Main Path: èˆ‡ CiteSpace çš„ Main Path çµæœäº¤å‰é©—è­‰
- Burst: èˆ‡ CiteSpace çš„ Burst Detection çµæœäº¤å‰é©—è­‰
- MeSH è·é›¢: èˆ‡ UMLS Similarity æœå‹™çš„çµæœç›¸é—œæ€§åˆ†æ

### Phase Cï¼šML å¢å¼·ï¼ˆ4-8 é€±ï¼‰â€” éœ€è¦æ¨¡å‹

| # | ä»»å‹™ | é ä¼°è¡Œæ•¸ | ä¾è³´ |
|---|------|:--------:|------|
| C1 | SPECTER2 èªæ„æ’åº | ~400 | `transformers`, GPU |
| C2 | PubMedBERT æ„åœ–åˆ†é¡ | ~300 | `transformers` |
| C3 | Dynamic Topic Models | ~500 | `gensim` |

### é‡Œç¨‹ç¢‘

```
2026-02 â”€â”€â”€ Phase A é–‹å§‹ (BM25 + RRF + PRF + MinHash)
   â”‚
2026-03 â”€â”€â”€ Phase A å®Œæˆ + é©—è­‰
   â”‚        Phase B é–‹å§‹ (Main Path + Burst + MeSH Distance)
   â”‚
2026-04 â”€â”€â”€ Phase B å®Œæˆ + é©—è­‰
   â”‚        è«–æ–‡ Evaluation ç« ç¯€å¯æ’°å¯«
   â”‚
2026-05 â”€â”€â”€ Phase C (å¯é¸) + è«–æ–‡æŠ•ç¨¿æº–å‚™
```

---

## 7. é©—è­‰æ–¹æ³•è«–

### 7.1 æ’åºå“è³ªï¼ˆPhase Aï¼‰

**Benchmark**: TREC Precision Medicine (2017-2020)

| æŒ‡æ¨™ | èªªæ˜ |
|------|------|
| **nDCG@10** | å‰ 10 åçš„ Normalized Discounted Cumulative Gain |
| **P@10** | å‰ 10 åçš„ç²¾ç¢ºç‡ |
| **MAP** | Mean Average Precision |

**å°æ¯”çµ„**:
- Baseline: ç¾æœ‰ term overlapï¼ˆbag-of-wordsï¼‰
- BM25: åƒ… BM25
- BM25+RRF: BM25 æ’åº + å¤šæº RRF èåˆ
- BM25+RRF+PRF: åŠ å…¥ Pseudo-Relevance Feedback

### 7.2 å»é‡å“è³ªï¼ˆPhase Aï¼‰

**æ–¹æ³•**: äººå·¥æ¨™è¨» 200 å°è·¨ä¾†æºæ–‡ç« ï¼ˆæ˜¯å¦ç‚ºåŒä¸€ç¯‡ï¼‰

| æŒ‡æ¨™ | èªªæ˜ |
|------|------|
| **Precision** | è¢«åˆ¤å®šç‚ºé‡è¤‡çš„æ–‡ç« å°ä¸­ï¼ŒçœŸæ­£é‡è¤‡çš„æ¯”ä¾‹ |
| **Recall** | æ‰€æœ‰çœŸæ­£é‡è¤‡çš„æ–‡ç« å°ä¸­ï¼Œè¢«æ­£ç¢ºè­˜åˆ¥çš„æ¯”ä¾‹ |
| **F1** | Precision å’Œ Recall çš„èª¿å’Œå¹³å‡ |

### 7.3 ç¶²è·¯åˆ†æï¼ˆPhase Bï¼‰

**æ–¹æ³•**: é¸ 5 å€‹å·²è¢« CiteSpace åˆ†æéçš„ä¸»é¡Œï¼Œæ¯”è¼ƒçµæœä¸€è‡´æ€§

| æŒ‡æ¨™ | èªªæ˜ |
|------|------|
| **Main Path å»åˆç‡** | ç³»çµ±æ‰¾åˆ°çš„ main path ç¯€é»èˆ‡ CiteSpace çµæœçš„ Jaccard |
| **Burst æ™‚æ®µé‡ç–Š** | burst period çš„ temporal IoU (Intersection over Union) |
| **Community ä¸€è‡´æ€§** | NMI (Normalized Mutual Information) |

### 7.4 æœå°‹ç­–ç•¥å·®ç•°ï¼ˆPhase Bï¼‰

**æ–¹æ³•**: å®šæ€§æ¡ˆä¾‹ç ”ç©¶ï¼ˆ5 å€‹ä¸»é¡Œï¼‰ï¼Œå±•ç¤ºå·®ç•°åˆ†æå¦‚ä½•å¹«åŠ©ç”¨æˆ¶ç†è§£æœå°‹çµæœ

---

## 8. ç›¸é—œæ–‡ç»

### è³‡è¨Šæª¢ç´¢ (Information Retrieval)

| æ–‡ç» | å¹´ä»½ | è²¢ç» |
|------|:----:|------|
| Robertson & Zaragoza, "The Probabilistic Relevance Framework: BM25 and Beyond" | 2009 | BM25 æ¼”ç®—æ³•çš„æ¬Šå¨ç¶œè¿° |
| Cormack et al., "Reciprocal Rank Fusion outperforms Condorcet and individual Rank Learning Methods" | 2009 | RRF çš„æå‡ºå’Œé©—è­‰ |
| Rocchio, "Relevance Feedback in Information Retrieval" | 1971 | ç›¸é—œæ€§åé¥‹çš„å…ˆé©…å·¥ä½œ |
| Lavrenko & Croft, "Relevance-Based Language Models" | 2001 | PRF çš„èªè¨€æ¨¡å‹æ–¹æ³• |
| Broder, "On the Resemblance and Containment of Documents" | 1997 | MinHash å’Œæ–‡ä»¶ç›¸ä¼¼åº¦ |

### å¼•æ–‡å­¸ (Bibliometrics)

| æ–‡ç» | å¹´ä»½ | è²¢ç» |
|------|:----:|------|
| Hummon & Doreian, "Connectivity in a citation network" | 1989 | Main Path Analysis çš„æå‡º |
| Liu & Lu, "An integrated approach for main path analysis" | 2012 | Main Path çš„æ”¹é€²æ–¹æ³• |
| Blondel et al., "Fast unfolding of communities in large networks" | 2008 | Louvain ç¤¾ç¾¤åµæ¸¬ç®—æ³• |
| Kleinberg, "Bursty and Hierarchical Structure in Streams" | 2003 | çªç™¼åµæ¸¬æ¼”ç®—æ³• |
| Page et al., "The PageRank Citation Ranking" | 1999 | PageRank æ¼”ç®—æ³• |

### èªæ„ç›¸ä¼¼åº¦ (Semantic Similarity)

| æ–‡ç» | å¹´ä»½ | è²¢ç» |
|------|:----:|------|
| Pedersen et al., "Measures of semantic similarity and relatedness in the biomedical domain" | 2007 | UMLS èªæ„ç›¸ä¼¼åº¦è©•ä¼° |
| Resnik, "Using information content to evaluate semantic similarity in a taxonomy" | 1995 | IC-based èªæ„è·é›¢ |
| Lin, "An information-theoretic definition of similarity" | 1998 | Lin ç›¸ä¼¼åº¦ |
| Wu & Palmer, "Verb semantics and lexical selection" | 1994 | Wu-Palmer ç›¸ä¼¼åº¦ |

### ç”Ÿé†« NLP (Biomedical NLP)

| æ–‡ç» | å¹´ä»½ | è²¢ç» |
|------|:----:|------|
| Gu et al., "Domain-Specific Language Model Pretraining for Biomedical NLP" | 2021 | PubMedBERT |
| Singh et al., "SciRepEval: A Multi-Format Benchmark for Scientific Document Representations" | 2023 | SPECTER2 |
| Zhang et al., "BioWordVec: Improving Biomedical Word Embeddings" | 2019 | BioWordVec |

---

## é™„éŒ„ Aï¼šèˆ‡æ—¢æœ‰ paper-draft.md çš„é—œä¿‚

| paper-draft.md å®šä½ | æœ¬æ–‡ä»¶å®šä½ |
|--------------------|--------------------|
| å°å¤–è«–æ–‡ï¼ˆæŠ•ç¨¿ç”¨ï¼‰ | å…§éƒ¨ç ”ç©¶æ–‡ä»¶ |
| èšç„¦ Timeline åŠŸèƒ½ | èšç„¦å…¨é¢çš„æ¼”ç®—æ³•å‡ç´š |
| å·²æœ‰æ¶æ§‹ä½†ç¼ºé©—è­‰ | æä¾›é©—è­‰æ–¹æ³•è«– |
| Abstract å·²æˆå½¢ | è£œå……æ ¸å¿ƒ IR æ¼”ç®—æ³•å‰µæ–° |

**å»ºè­°**: è«–æ–‡çš„ Section 2 (Architecture) å¯å¢åŠ æœ¬æ–‡ä»¶çš„æ’åºå’Œå»é‡æ¼”ç®—æ³•æè¿°ï¼ŒSection 4 (Evaluation) å¯æ¡ç”¨æœ¬æ–‡ä»¶çš„é©—è­‰æ–¹æ³•è«–ã€‚BM25+RRF å’Œ PRF æ˜¯è«–æ–‡ä¸­æœ€å®¹æ˜“é‡åŒ–å±•ç¤ºçš„è²¢ç»ã€‚

---

## é™„éŒ„ Bï¼šèª å¯¦é¢¨éšªè©•ä¼°

| é¢¨éšª | åš´é‡åº¦ | å°ç­– |
|------|:------:|------|
| BM25 å·²æ˜¯ 30 å¹´å‰çš„æ¼”ç®—æ³•ï¼Œreviewers å¯èƒ½èªç‚ºä¸å¤ æ–° | ä¸­ | çµåˆ RRF + å¤šæº + ç”Ÿé†«é ˜åŸŸå®šåˆ¶ï¼Œå¼·èª¿ã€Œç³»çµ±å±¤é¢çš„å‰µæ–°ã€ |
| Citation Burst èˆ‡ CiteSpace åŠŸèƒ½é‡ç–Š | ä¸­ | å¼·èª¿ã€ŒAgent-accessibleã€â€”â€” CiteSpace æ˜¯æ¡Œé¢è»Ÿé«”ï¼Œæˆ‘å€‘æ˜¯ API |
| æ²’æœ‰çœŸæ­£çš„ ML æ¨¡å‹ | ä½ | Phase A+B å®Œå…¨ä¸éœ€ MLï¼Œåè€Œæ˜¯å„ªå‹¢ï¼ˆè¼•é‡éƒ¨ç½²ã€ç„¡ GPU ä¾è³´ï¼‰ |
| MinHash çš„ `datasketch` å¢åŠ éƒ¨ç½²é«”ç© | ä½ | datasketch æ˜¯ç´” Pythonï¼Œé«”ç©å° |
| MeSH è·é›¢ä¾è³´ NCBI API ç©©å®šæ€§ | ä½ | å¯å¿«å– MeSH æ¨¹çµæ§‹åˆ°æœ¬åœ° |
